{"version":3,"sources":["webpack:///src/app/order/order.module.ts","webpack:///src/environments/environment.ts","webpack:///src/app/order/services/order.service.ts","webpack:///src/app/core/pages/mentions-legales/mentions-legales.component.ts","webpack:///src/app/core/pages/mentions-legales/mentions-legales.component.html","webpack:///src/app/order/order-routing.module.ts","webpack:///src/app/auth/pages/login-page/login-page.component.ts","webpack:///src/app/order/pages/order-form/order-form.component.ts","webpack:///src/app/order/pages/order-form/order-form.component.html","webpack:///src/app/auth/services/auth.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/app.module.ts","webpack:///src/app/order/services/mondayStartWeekDateAdapter.service.ts","webpack:///src/app/order/services/order-summary.pipe.ts","webpack:///src/app/order/components/form-validated-modal/form-validated-modal.component.ts","webpack:///src/app/order/components/form-validated-modal/form-validated-modal.component.html","webpack:///src/app/auth/components/login-modal/login-modal.component.ts","webpack:///src/app/auth/components/login-modal/login-modal.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/models/product.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["OrderModule","provide","useValue","useClass","declarations","imports","providers","exports","environment","production","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","OrderService","firestore","collection","ref","where","valueChanges","order","add","providedIn","MentionsLegalesComponent","selector","templateUrl","styleUrls","routes","path","component","OrderRoutingModule","forChild","LoginPageComponent","dialog","open","disableClose","width","maxWidth","OrderFormComponent","orderService","fb","orderSummary","products","sliced","comments","PRODUCTCATEGORY","tomorrow","Date","showDeliveryMessage","showShortDeliveryMessage","showOrderNeedValidationMessage","selectDeliveryTime","unsubscribe$","productList","displayDeliveryForm","orderForm","group","name","required","phone","pattern","address","street","zipCode","city","deliveryAddress","disabled","hasDifferentDeliveryAddress","deliveryDate","deliveryTime","orderDate","now","orderComment","totalPrice","errorMessages","matDatepickerMin","onlySummerSunday","d","day","getDay","month","getMonth","res","setDate","getDate","itemFormGroup","sliceFormGroup","commentFormGroup","getAllAvailableItems","pipe","resProdList","sort","a","b","removeControl","forEach","product","addControl","subscribe","itemFormData","sliceFormData","commentFormData","Object","entries","calcTotalPrice","filterShortDeliveryProducts","next","unsubscribe","itemName","quantity","find","el","price","get","setValue","checked","enable","reset","disable","getHours","orderTime","differenceIndays","getTime","shortDelivery","updateValueAndValidity","orderList","push","unit","value","isSliced","indexItem","findIndex","comment","length","valid","addOrder","validatedModal","afterClosed","window","location","reload","controlName","controlGroup","errors","hasError","keys","key","join","category","filter","prod","onSubmit","specificDeliveryTime","AuthService","auth","credentials","signInWithEmailAndPassword","email","password","then","err","signOut","user","router","AppComponent","authService","iconRegistry","sanitizer","activatedRoute","isUserAuthenticated","isConnected","addSvgIcon","bypassSecurityTrustResourceUrl","logout","navigate","routerState","snapshot","url","logoutAdminSpace","onActivate","AuthModule","AppModule","initializeApp","bootstrap","MondayStartWeekDateAdapter","OrderSummaryPipe","obj","tmpProducts","tmpSliced","tmpComments","prodEl","sliceEl","concat","commentEl","FormValidatedModalComponent","LoginModalComponent","loginErrorMessage","loginForm","login","closeAll","message","redirectUnauthorizedToLogin","redirectAlreadyLoggedIn","redirectTo","pathMatch","loadChildren","m","AdminModule","AppRoutingModule","forRoot","ProductUnit","ProductCategory","console","error","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","module","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport {\r\n  DateAdapter,\r\n  MAT_DATE_LOCALE,\r\n  MatNativeDateModule,\r\n} from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { NgxMaterialTimepickerModule } from 'ngx-material-timepicker';\r\n\r\nimport { FormValidatedModalComponent } from './components/form-validated-modal/form-validated-modal.component';\r\nimport { OrderRoutingModule } from './order-routing.module';\r\nimport { OrderFormComponent } from './pages/order-form/order-form.component';\r\nimport { MondayStartWeekDateAdapter } from './services/mondayStartWeekDateAdapter.service';\r\nimport { OrderSummaryPipe } from './services/order-summary.pipe';\r\nimport { OrderService } from './services/order.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OrderFormComponent,\r\n    FormValidatedModalComponent,\r\n    OrderSummaryPipe,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    OrderRoutingModule,\r\n    MatFormFieldModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    FlexLayoutModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatCardModule,\r\n    MatExpansionModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    MatDividerModule,\r\n    MatProgressSpinnerModule,\r\n    MatDialogModule,\r\n    NgxMaterialTimepickerModule,\r\n  ],\r\n  providers: [\r\n    OrderService,\r\n    { provide: MAT_DATE_LOCALE, useValue: 'fr-FR' },\r\n    { provide: DateAdapter, useClass: MondayStartWeekDateAdapter },\r\n  ],\r\n  exports: [OrderRoutingModule],\r\n})\r\nexport class OrderModule {}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  // Your web app's Firebase configuration\r\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n  firebaseConfig: {\r\n    apiKey: 'AIzaSyAdqYq28vpm_FbbmvbxFju8m0kOyKrfoaU',\r\n    authDomain: 'boulangerie-m17.firebaseapp.com',\r\n    projectId: 'boulangerie-m17',\r\n    storageBucket: 'boulangerie-m17.appspot.com',\r\n    messagingSenderId: '615948873412',\r\n    appId: '1:615948873412:web:996ee9e9433f1db3016391',\r\n    measurementId: 'G-SNJSWSZG0K',\r\n  },\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, DocumentReference } from '@angular/fire/firestore';\r\nimport { Order } from '@models/order';\r\nimport { Product } from '@models/product';\r\nimport { from, Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class OrderService {\r\n  constructor(private firestore: AngularFirestore) {}\r\n\r\n  public getAllAvailableItems(): Observable<Product[]> {\r\n    return this.firestore\r\n      .collection<Product>('products', (ref) =>\r\n        ref.where('available', '==', true)\r\n      )\r\n      .valueChanges();\r\n  }\r\n\r\n  public addOrder(order: Order): Observable<DocumentReference> {\r\n    return from(this.firestore.collection<Order>('orders').add(order));\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-mentions-legales',\r\n  templateUrl: './mentions-legales.component.html',\r\n  styleUrls: ['./mentions-legales.component.scss'],\r\n})\r\nexport class MentionsLegalesComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<h2>Conditions Générales d’Utilisation</h2>\r\n<p>\r\n  Nous utilisons des liens de tracking Google. Nous stockons des cookies de\r\n  navigations ainsi que les données utilisateur nécessaires au fonctionnement du\r\n  site : informations de navigations, fonctionnalités annexes, et de\r\n  localisation. Nous sommes susceptibles d’afficher des pubs, et des pubs\r\n  ciblées par Google.\r\n</p>\r\n\r\n<h3>Article 1 : Objet</h3>\r\n<p>\r\n  Les présentes CGU ou Conditions Générales d’Utilisation encadrent\r\n  juridiquement l’utilisation des services du site boulangerie-m.web.app\r\n  (ci-après dénommé « le site »). Constituant le contrat entre la société Michon\r\n  et l’Utilisateur.\r\n</p>\r\n<h3>Article 2 : Mentions légales</h3>\r\n<p>\r\n  L’édition du site boulangerie-m.web.app est assurée par la société Michon,\r\n  Siret n°80886630500010, dont le siège social est localisé au 127 avenue du\r\n  Lieutenant Colonel Bernier, 17 000 La Rochelle. L’hébergeur du site\r\n  boulangerie-m.web.app est la société Google France, sise au 8 rue de Londres,\r\n  75009 Paris, France.\r\n</p>\r\n<h3>Article 3 : Accès au site</h3>\r\n<p>\r\n  Le site boulangerie-m.web.app permet d’accéder gratuitement aux services\r\n  suivants : – Affichage des articles – Mise en place du panier. Le site est\r\n  accessible gratuitement depuis n’importe où par tout utilisateur disposant\r\n  d’un accès à Internet (sauf restriction par des pares-feux nationaux). Tous\r\n  les frais nécessaires pour l’accès aux services (matériel informatique,\r\n  connexion, internet…) sont à la charge de l’Utilisateur. L’accès au portail\r\n  dédié aux administrateurs s’effectue à l’aide d’un identifiant et d’un mot de\r\n  passe. Pour des raisons de maintenance ou autres, l’accès au site peut être\r\n  interrompu ou suspendu par l’éditeur sans préavis ni justification.\r\n</p>\r\n<h3>Article 4 : Collecte des données</h3>\r\n<p>\r\n  Conformément à la loi n°78-17 du 6 janvier relative à l’informatique, aux\r\n  fichiers et aux libertés, la collecte et le traitement d’informations\r\n  personnelles s’effectuent dans le respect de la vie privée. La liste des\r\n  données collectées : Adresse postale – Numéro de téléphone – Contenu du panier\r\n  – Commandes finalisées et en cours. Suivant la loi Informatique et Libertés en\r\n  date du 6 janvier 1978, articles 39 et 40, l’Utilisateur dispose du droit\r\n  d’accéder, de rectifier, de supprimer et d’opposer ses données personnelles.\r\n  L’exercice de ce droit s’effectue par une demande à cette adresse mail :\r\n  boulangerie.m17@gmail.com (informations disponibles ici).\r\n</p>\r\n<h3>Article 5 : Propriété intellectuelle</h3>\r\n<p>\r\n  Les marques, logos ainsi que les contenus du site boulangerie-m.web.app\r\n  (illustrations graphiques, textes…) sont protégés par le Code de la propriété\r\n  intellectuelle et par le droit d’auteur. La reproduction et la copie des\r\n  contenus par l’Utilisateur requièrent une autorisation préalable du site. Dans\r\n  ce cas, toute utilisation à des usages commerciaux ou à des fins publicitaires\r\n  est proscrite.\r\n</p>\r\n<h3>Article 6 : Responsabilité</h3>\r\n<p>\r\n  Le site décline toute responsabilité concernant les éventuels attaques,\r\n  failles et fichiers informatiques pouvant infecter le matériel de\r\n  l’utilisateur après l’utilisation ou l’accès à ce site. Le site ne peut être\r\n  tenu pour responsable en cas de force majeure ou du fait imprévisible et\r\n  insurmontable d’un tiers. La garantie totale de la sécurité et la\r\n  confidentialité des données n’est pas assurée par le site. Cependant, le site\r\n  s’engage à mettre en œuvre toutes les méthodes requises pour le faire au\r\n  mieux.\r\n</p>\r\n<h3>Article 7 : Liens hypertextes</h3>\r\n<p>\r\n  Le site peut être constitué de liens hypertextes. En cliquant sur ces\r\n  derniers, l’Utilisateur sortira de la plateforme. Cette dernière n’a pas de\r\n  contrôle et ne peut pas être tenue responsable du contenu des pages web\r\n  relatives à ces liens. Des liens dit « affiliés » peuvent être présents sur le\r\n  site. Un lien affilié ou d’affiliation est une URL spécifique utilisée par un\r\n  affilié pour pointer vers une offre ou un produit d’un marchand. Il est\r\n  possible, à la suite d’un achat ou de la navigation par l’Utilisateur sur le\r\n  site d’affiliation, qu’une commission soit versée à destination de la société\r\n  éditrice.\r\n</p>\r\n<h3>Article 8 : Cookies</h3>\r\n<p>\r\n  Lors des visites sur le site, l’installation automatique d’un cookie sur le\r\n  logiciel de navigation de l’Utilisateur peut survenir. Les cookies\r\n  correspondent à de petits fichiers déposés temporairement sur le disque dur de\r\n  l’ordinateur de l’Utilisateur. Ces cookies sont nécessaires pour assurer\r\n  l’accessibilité et la navigation sur le site. Ces fichiers ne comportent pas\r\n  d’informations personnelles et ne peuvent pas être utilisés pour\r\n  l’identification d’une personne. L’information présente dans les cookies est\r\n  utilisée pour améliorer les performances de navigation sur le site\r\n  boulangerie-m.web.app. En naviguant sur le site, l’Utilisateur accepte les\r\n  cookies. Leur désactivation peut s’effectuer via les paramètres du logiciel de\r\n  navigation.\r\n</p>\r\n<h3>Article 9 : Durée du contrat</h3>\r\n<p>\r\n  Le présent contrat est valable pour une durée indéterminée. Le début de\r\n  l’utilisation des services du site marque l’application du contrat à l’égard\r\n  de l’Utilisateur.\r\n</p>\r\n<h3>Article 10 : Droit applicable et juridiction compétente</h3>\r\n<p>\r\n  Le présent contrat est soumis à la législation française. Dans un premier\r\n  temps, la résolution d’éventuels litiges entre les parties se fait à\r\n  l’amiable. En cas d’absence de résolution à l’amiable, le recours aux\r\n  tribunaux français compétents pour régler le contentieux s’impose.\r\n</p>\r\n\r\n<h3>Sources des ressources graphiques présentes sur le site</h3>\r\n<div>\r\n  Arrière plan:\r\n  <a class=\"bkgrdLink\" href=\"https://www.freepik.com/vectors/background\"\r\n    >Background vector created by freepik - www.freepik.com</a\r\n  >\r\n  <div>\r\n    Icônes:\r\n    <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\"\r\n      >Freepik</a\r\n    >\r\n    from\r\n    <a href=\"https://www.flaticon.com/\" title=\"Flaticon\"> www.flaticon.com</a>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { OrderFormComponent } from './pages/order-form/order-form.component';\r\n\r\nconst routes: Routes = [{ path: '', component: OrderFormComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class OrderRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { LoginModalComponent } from '@app/auth/components/login-modal/login-modal.component';\r\n\r\n@Component({\r\n  selector: 'app-login-page',\r\n  templateUrl: './login-page.component.html',\r\n  styleUrls: ['./login-page.component.scss'],\r\n})\r\nexport class LoginPageComponent implements OnInit {\r\n  constructor(private dialog: MatDialog) {}\r\n\r\n  ngOnInit(): void {\r\n    this.dialog.open(LoginModalComponent, {\r\n      disableClose: true,\r\n      width: '400px',\r\n      maxWidth: '90%',\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy } from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormControl,\r\n  FormGroup,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { FormValidatedModalComponent } from '@app/order/components/form-validated-modal/form-validated-modal.component';\r\nimport { FormErrorMessages } from '@models/formErrorMessages';\r\nimport { OrderProduct, OrderSummary } from '@models/order';\r\nimport { Product, ProductCategory } from '@models/product';\r\nimport { combineLatest, Observable, Subject } from 'rxjs';\r\nimport { first, take, takeUntil, tap } from 'rxjs/operators';\r\n\r\nimport { OrderService } from './../../services/order.service';\r\n\r\n@Component({\r\n  selector: 'app-order-form',\r\n  templateUrl: './order-form.component.html',\r\n  styleUrls: ['./order-form.component.scss'],\r\n})\r\nexport class OrderFormComponent implements OnDestroy {\r\n  public orderSummary: OrderSummary = {\r\n    products: [],\r\n    sliced: [],\r\n    comments: [],\r\n  };\r\n  public PRODUCTCATEGORY = ProductCategory;\r\n  public tomorrow = new Date();\r\n  public validatedModal!: MatDialogRef<FormValidatedModalComponent>;\r\n  public showDeliveryMessage = false;\r\n  public showShortDeliveryMessage = false;\r\n  public showOrderNeedValidationMessage = false;\r\n  public selectDeliveryTime = false;\r\n  private unsubscribe$ = new Subject<void>();\r\n  public productList: Product[] = [];\r\n  public itemFormGroup: FormGroup;\r\n  public sliceFormGroup: FormGroup;\r\n  public commentFormGroup: FormGroup;\r\n  public displayDeliveryForm = false;\r\n  public orderForm = this.fb.group({\r\n    name: ['', [Validators.required]],\r\n    phone: ['', [Validators.required, Validators.pattern('^[0-9]{10}$')]],\r\n    address: this.fb.group({\r\n      street: ['', [Validators.required]],\r\n      zipCode: ['', [Validators.required, Validators.pattern('^[0-9]{5}$')]],\r\n      city: ['', [Validators.required]],\r\n    }),\r\n    deliveryAddress: this.fb.group(\r\n      {\r\n        street: ['', [Validators.required]],\r\n        zipCode: ['', [Validators.required, Validators.pattern('^[0-9]{5}$')]],\r\n        city: ['', [Validators.required]],\r\n      },\r\n      { disabled: !this.displayDeliveryForm }\r\n    ),\r\n    hasDifferentDeliveryAddress: [\r\n      this.displayDeliveryForm,\r\n      [Validators.required],\r\n    ],\r\n    deliveryDate: [null, [Validators.required]],\r\n    deliveryTime: [null],\r\n    orderDate: [new Date(Date.now()), [Validators.required]],\r\n    orderComment: [''],\r\n    totalPrice: [0, [Validators.required]],\r\n  });\r\n  private errorMessages: FormErrorMessages = {\r\n    name: {\r\n      required: 'Nom de votre entreprise obligatoire',\r\n    },\r\n    phone: {\r\n      required: 'Numéro de téléphone obligatoire',\r\n      pattern: 'Doit contenir 10 chiffres',\r\n    },\r\n    street: {\r\n      required: 'Rue obligatoire',\r\n    },\r\n    zipCode: {\r\n      required: 'Code postal obligatoire',\r\n      pattern: 'Doit contenir 5 chiffres',\r\n    },\r\n    city: {\r\n      required: 'Ville obligatoire',\r\n    },\r\n    deliveryDate: {\r\n      required: 'Date de livraison obligatoire',\r\n      matDatepickerMin: 'Date incorrecte',\r\n    },\r\n  };\r\n  public onlySummerSunday = (d: Date | null): boolean => {\r\n    const day = (d || new Date()).getDay();\r\n    const month = (d || new Date()).getMonth();\r\n    let res = true;\r\n    if (day === 0 && (month > 8 || month < 5)) {\r\n      res = false;\r\n    }\r\n    return res;\r\n    // tslint:disable-next-line\r\n  };\r\n\r\n  constructor(\r\n    private orderService: OrderService,\r\n    private fb: FormBuilder,\r\n    private dialog: MatDialog\r\n  ) {\r\n    this.tomorrow.setDate(new Date().getDate() + 1);\r\n\r\n    this.itemFormGroup = this.fb.group({\r\n      default: [''],\r\n    });\r\n    this.sliceFormGroup = this.fb.group({\r\n      default: [''],\r\n    });\r\n    this.commentFormGroup = this.fb.group({\r\n      default: [''],\r\n    });\r\n    this.orderService\r\n      .getAllAvailableItems()\r\n      .pipe(\r\n        take(1),\r\n        tap((resProdList) => {\r\n          this.productList = resProdList.sort((a, b) =>\r\n            a.name < b.name ? -1 : a.name > b.name ? 1 : 0\r\n          );\r\n          this.itemFormGroup.removeControl('default');\r\n          this.sliceFormGroup.removeControl('default');\r\n          this.commentFormGroup.removeControl('default');\r\n          resProdList.forEach((product) => {\r\n            this.itemFormGroup?.addControl(product.name, new FormControl(null));\r\n            this.sliceFormGroup?.addControl(\r\n              product.name,\r\n              new FormControl(null)\r\n            );\r\n            this.commentFormGroup?.addControl(\r\n              product.name,\r\n              new FormControl(null)\r\n            );\r\n          });\r\n        })\r\n      )\r\n      .subscribe();\r\n\r\n    combineLatest([\r\n      this.itemFormGroup.valueChanges,\r\n      this.sliceFormGroup.valueChanges,\r\n      this.commentFormGroup.valueChanges,\r\n    ])\r\n      .pipe(\r\n        takeUntil(this.unsubscribe$),\r\n        tap(([itemFormData, sliceFormData, commentFormData]) => {\r\n          this.orderSummary = {\r\n            products: Object.entries(itemFormData),\r\n            sliced: Object.entries(sliceFormData),\r\n            comments: Object.entries(commentFormData),\r\n          };\r\n          this.calcTotalPrice(itemFormData);\r\n        })\r\n      )\r\n      .subscribe();\r\n\r\n    this.hasDifferentDeliveryAddress(this.displayDeliveryForm);\r\n    this.filterShortDeliveryProducts();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.unsubscribe();\r\n  }\r\n\r\n  private calcTotalPrice(itemFormData: { [key: string]: number }): void {\r\n    let totalPrice = 0;\r\n    for (const [itemName, quantity] of Object.entries(itemFormData) as [\r\n      string,\r\n      number\r\n    ][]) {\r\n      if (quantity) {\r\n        totalPrice +=\r\n          quantity *\r\n          (this.productList.find((el) => el.name === itemName) as Product)\r\n            .price;\r\n      }\r\n      this.orderForm.get('totalPrice')?.setValue(totalPrice);\r\n    }\r\n  }\r\n\r\n  public specificDeliveryTime(checked: boolean): void {\r\n    this.selectDeliveryTime = checked;\r\n    if (this.selectDeliveryTime) {\r\n      this.orderForm.get('deliveryTime')?.enable();\r\n    } else {\r\n      this.orderForm.get('deliveryTime')?.reset();\r\n      this.orderForm.get('deliveryTime')?.disable();\r\n    }\r\n  }\r\n\r\n  public hasDifferentDeliveryAddress(checked: boolean): void {\r\n    this.displayDeliveryForm = checked;\r\n    if (this.displayDeliveryForm) {\r\n      this.orderForm.get('deliveryAddress')?.enable();\r\n    } else {\r\n      this.orderForm.get('deliveryAddress')?.disable();\r\n    }\r\n  }\r\n\r\n  private filterShortDeliveryProducts(): void {\r\n    if (new Date(Date.now()).getHours() >= 18) {\r\n      this.tomorrow.setDate(this.tomorrow.getDate() + 1);\r\n    }\r\n\r\n    combineLatest([\r\n      this.orderForm.get('deliveryDate')?.valueChanges as Observable<Date>,\r\n      this.orderForm.get('orderDate')?.valueChanges as Observable<Date>,\r\n    ])\r\n      .pipe(\r\n        tap(([deliveryDate, orderDate]) => {\r\n          const orderTime = orderDate.getHours();\r\n          const differenceIndays =\r\n            (deliveryDate.getTime() - orderDate.getTime()) / (1000 * 3600 * 24);\r\n          if (differenceIndays >= 1) {\r\n            this.showDeliveryMessage = true;\r\n            this.showShortDeliveryMessage = false;\r\n            this.showOrderNeedValidationMessage = false;\r\n            this.productList.forEach((product) => {\r\n              if (!product.shortDelivery) {\r\n                this.itemFormGroup.get(product.name)?.enable();\r\n              }\r\n            });\r\n          } else if (\r\n            orderTime >= 11 &&\r\n            orderTime < 18 &&\r\n            differenceIndays < 1\r\n          ) {\r\n            this.showDeliveryMessage = false;\r\n            this.showOrderNeedValidationMessage = true;\r\n            this.productList.forEach((product) => {\r\n              if (!product.shortDelivery) {\r\n                this.showShortDeliveryMessage = true;\r\n                this.itemFormGroup.get(product.name)?.disable();\r\n              }\r\n            });\r\n          } else if (orderTime < 11 && differenceIndays < 1) {\r\n            this.showDeliveryMessage = true;\r\n            this.showOrderNeedValidationMessage = false;\r\n            this.productList.forEach((product) => {\r\n              if (!product.shortDelivery) {\r\n                this.showShortDeliveryMessage = true;\r\n                this.itemFormGroup.get(product.name)?.disable();\r\n              }\r\n            });\r\n          }\r\n        })\r\n      )\r\n      .subscribe();\r\n    this.orderForm.get('orderDate')?.updateValueAndValidity();\r\n  }\r\n\r\n  public onSubmit(): void {\r\n    this.orderForm.get('orderDate')?.setValue(new Date(Date.now()));\r\n    const orderList: OrderProduct[] = [];\r\n    for (const [itemName, quantity] of Object.entries(\r\n      this.itemFormGroup.value\r\n    ) as [string, number][]) {\r\n      if (quantity) {\r\n        orderList.push({\r\n          product: itemName,\r\n          quantity,\r\n          unit: (this.productList.find((el) => el.name === itemName) as Product)\r\n            .unit,\r\n        });\r\n      }\r\n    }\r\n    for (const [itemName, isSliced] of Object.entries(\r\n      this.sliceFormGroup.value\r\n    ) as [string, boolean][]) {\r\n      if (isSliced) {\r\n        const indexItem = orderList.findIndex((el) => el?.product === itemName);\r\n        if (indexItem >= 0) {\r\n          orderList[indexItem].isSliced = true;\r\n        }\r\n      }\r\n    }\r\n    for (const [itemName, comment] of Object.entries(\r\n      this.commentFormGroup.value\r\n    ) as [string, string][]) {\r\n      if (comment && comment.length > 0) {\r\n        const indexItem = orderList.findIndex((el) => el?.product === itemName);\r\n        if (indexItem >= 0) {\r\n          orderList[indexItem].comment = comment;\r\n        }\r\n      }\r\n    }\r\n    if (this.orderForm.valid && orderList.length > 0) {\r\n      this.orderService\r\n        .addOrder({\r\n          ...this.orderForm.value,\r\n          order: orderList,\r\n        })\r\n        .pipe(take(1))\r\n        .subscribe(() => {\r\n          this.validatedModal = this.dialog.open(FormValidatedModalComponent, {\r\n            disableClose: true,\r\n            width: '400px',\r\n            maxWidth: '90%',\r\n          });\r\n          this.validatedModal\r\n            .afterClosed()\r\n            .pipe(\r\n              tap(() => {\r\n                window.location.reload();\r\n              }),\r\n              first()\r\n            )\r\n            .subscribe();\r\n        });\r\n    }\r\n  }\r\n\r\n  public getErrorMessage(controlName: string, controlGroup?: string): string {\r\n    const errors = [];\r\n    if (controlGroup) {\r\n      if (\r\n        this.orderForm.get(controlGroup)?.get(controlName)?.hasError('required')\r\n      ) {\r\n        return this.errorMessages[controlName].required;\r\n      }\r\n      if (this.orderForm.get(controlGroup)?.get(controlName)?.errors) {\r\n        for (const key of Object.keys(\r\n          this.orderForm.get(controlGroup)?.get(controlName)?.errors as {}\r\n        )) {\r\n          errors.push(this.errorMessages[controlName][key]);\r\n        }\r\n      }\r\n    } else {\r\n      if (this.orderForm.get(controlName)?.hasError('required')) {\r\n        return this.errorMessages[controlName].required;\r\n      }\r\n      if (this.orderForm.get(controlName)?.errors) {\r\n        for (const key of Object.keys(\r\n          this.orderForm.get(controlName)?.errors as {}\r\n        )) {\r\n          errors.push(this.errorMessages[controlName][key]);\r\n        }\r\n      }\r\n    }\r\n    return errors.join(', ');\r\n  }\r\n\r\n  public filterProductByCategory(category: ProductCategory): Product[] {\r\n    return this.productList.filter((prod) => prod.category === category);\r\n  }\r\n}\r\n","<form [formGroup]=\"orderForm\" (ngSubmit)=\"onSubmit()\">\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-evenly space-evenly\">\r\n    <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n      <mat-label>Nom de votre entreprise</mat-label>\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        placeholder=\"Ex: Restaurant du port\"\r\n        formControlName=\"name\"\r\n        required\r\n      />\r\n      <mat-error *ngIf=\"orderForm.get('name')?.invalid\">{{\r\n        getErrorMessage(\"name\")\r\n      }}</mat-error>\r\n    </mat-form-field>\r\n    <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n      <mat-label>Numéro de téléphone</mat-label>\r\n      <input\r\n        matInput\r\n        type=\"tel\"\r\n        placeholder=\"Ex: 0546331122\"\r\n        formControlName=\"phone\"\r\n        required\r\n      />\r\n      <mat-error *ngIf=\"orderForm.get('phone')?.invalid\">{{\r\n        getErrorMessage(\"phone\")\r\n      }}</mat-error>\r\n    </mat-form-field>\r\n  </div>\r\n  <div formGroupName=\"address\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\r\n      <mat-form-field fxFlex=\"87\" appearance=\"outline\">\r\n        <mat-label>Rue</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: 2 rue du port\"\r\n          formControlName=\"street\"\r\n          required\r\n        />\r\n        <mat-error *ngIf=\"orderForm.get('address')?.get('street')?.invalid\">{{\r\n          getErrorMessage(\"street\", \"address\")\r\n        }}</mat-error>\r\n      </mat-form-field>\r\n    </div>\r\n    <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-evenly space-evenly\">\r\n      <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n        <mat-label>Code postal</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: 17000\"\r\n          formControlName=\"zipCode\"\r\n          required\r\n        />\r\n        <mat-error *ngIf=\"orderForm.get('address')?.get('zipCode')?.invalid\">{{\r\n          getErrorMessage(\"zipCode\", \"address\")\r\n        }}</mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n        <mat-label>Ville</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: La Rochelle\"\r\n          formControlName=\"city\"\r\n          required\r\n        />\r\n        <mat-error *ngIf=\"orderForm.get('address')?.get('city')?.invalid\">{{\r\n          getErrorMessage(\"city\", \"address\")\r\n        }}</mat-error>\r\n      </mat-form-field>\r\n    </div>\r\n  </div>\r\n  <div\r\n    fxLayout=\"row wrap\"\r\n    class=\"checkboxRow\"\r\n    fxLayoutAlign=\"flex-start center\"\r\n  >\r\n    <mat-checkbox\r\n      fxFlexOffset=\"7\"\r\n      (change)=\"hasDifferentDeliveryAddress($event.checked)\"\r\n      formControlName=\"hasDifferentDeliveryAddress\"\r\n      >Adresse de livraison différente</mat-checkbox\r\n    >\r\n  </div>\r\n  <div formGroupName=\"deliveryAddress\" *ngIf=\"displayDeliveryForm\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"center\">\r\n      <mat-form-field fxFlex=\"87\" appearance=\"outline\">\r\n        <mat-label>Rue</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: 2 rue du port\"\r\n          formControlName=\"street\"\r\n          required\r\n        />\r\n        <mat-error\r\n          *ngIf=\"orderForm.get('deliveryAddress')?.get('street')?.invalid\"\r\n          >{{ getErrorMessage(\"street\", \"address\") }}</mat-error\r\n        >\r\n      </mat-form-field>\r\n    </div>\r\n    <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-evenly space-evenly\">\r\n      <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n        <mat-label>Code postal</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: 17000\"\r\n          formControlName=\"zipCode\"\r\n          required\r\n        />\r\n        <mat-error\r\n          *ngIf=\"orderForm.get('deliveryAddress')?.get('zipCode')?.invalid\"\r\n          >{{ getErrorMessage(\"zipCode\", \"address\") }}</mat-error\r\n        >\r\n      </mat-form-field>\r\n      <mat-form-field fxFlex=\"40\" fxFlex.lt-sm=\"87\" appearance=\"outline\">\r\n        <mat-label>Ville</mat-label>\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          placeholder=\"Ex: La Rochelle\"\r\n          formControlName=\"city\"\r\n          required\r\n        />\r\n        <mat-error\r\n          *ngIf=\"orderForm.get('deliveryAddress')?.get('city')?.invalid\"\r\n          >{{ getErrorMessage(\"city\", \"address\") }}</mat-error\r\n        >\r\n      </mat-form-field>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <mat-divider fxFlex=\"50\"></mat-divider>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"flex-start center\">\r\n    <mat-form-field\r\n      fxFlexOffset=\"7\"\r\n      fxFlex=\"40\"\r\n      fxFlex.lt-sm=\"87\"\r\n      appearance=\"outline\"\r\n      (click)=\"picker.open()\"\r\n    >\r\n      <mat-label>Date de livraison</mat-label>\r\n      <input\r\n        matInput\r\n        required\r\n        formControlName=\"deliveryDate\"\r\n        [min]=\"tomorrow\"\r\n        [matDatepicker]=\"picker\"\r\n        [matDatepickerFilter]=\"onlySummerSunday\"\r\n        readonly\r\n      />\r\n      <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n      <mat-datepicker #picker touchUi></mat-datepicker>\r\n      <mat-error *ngIf=\"orderForm.get('deliveryDate')?.invalid\">{{\r\n        getErrorMessage(\"deliveryDate\")\r\n      }}</mat-error>\r\n    </mat-form-field>\r\n  </div>\r\n  <div\r\n    fxLayout=\"row wrap\"\r\n    class=\"checkboxRow\"\r\n    fxLayoutAlign=\"flex-start center\"\r\n  >\r\n    <mat-checkbox\r\n      fxFlexOffset=\"7\"\r\n      (change)=\"specificDeliveryTime($event.checked)\"\r\n      >Besoin d'une heure de livraison précise?</mat-checkbox\r\n    >\r\n    <div\r\n      *ngIf=\"selectDeliveryTime\"\r\n      fxFlexOffset=\"7\"\r\n      fxFlexOffset.gt-md=\"12\"\r\n      fxFlex=\"40\"\r\n      fxFlex.lt-sm=\"87\"\r\n    >\r\n      <mat-form-field appearance=\"outline\">\r\n        <mat-label>Heure de livraison</mat-label>\r\n        <input\r\n          [ngxTimepicker]=\"$any(datePicker)\"\r\n          min=\"06:00\"\r\n          max=\"12:00\"\r\n          [format]=\"24\"\r\n          readonly\r\n          matInput\r\n          formControlName=\"deliveryTime\"\r\n        />\r\n        <ngx-material-timepicker #datePicker></ngx-material-timepicker>\r\n      </mat-form-field>\r\n    </div>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <p class=\"deliveryMessage\" *ngIf=\"showDeliveryMessage\">\r\n      Votre livraison vous sera livrée à l'adresse renseignée le\r\n      {{ orderForm.get(\"deliveryDate\")?.value | date: \"fullDate\" }}\r\n      {{\r\n        this.orderForm.get(\"deliveryTime\")?.value\r\n          ? \"à \" + this.orderForm.get(\"deliveryTime\")?.value\r\n          : \"entre 6 heures et midi.\"\r\n      }}\r\n    </p>\r\n    <p\r\n      class=\"warningMessage\"\r\n      *ngIf=\"showShortDeliveryMessage || showOrderNeedValidationMessage\"\r\n    >\r\n      <span> Attention, dû au délai court de votre commande: </span>\r\n      <span *ngIf=\"showOrderNeedValidationMessage\">\r\n        <br />&nbsp;&nbsp;- Elle devra être validée par la boulangerie M.\r\n        <span id=\"importantSentence\"\r\n          >Sans retour de leur part dans l'heure, considérez la comme\r\n          annulée.</span\r\n        >\r\n      </span>\r\n      <span *ngIf=\"showShortDeliveryMessage\">\r\n        <br />&nbsp;&nbsp;- Certains produits ne sont pas disponibles. Ils ont\r\n        été désactivés dans le formulaire.\r\n      </span>\r\n    </p>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <mat-divider fxFlex=\"50\"></mat-divider>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <h2>Produits</h2>\r\n  </div>\r\n\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-evenly space-evenly\">\r\n    <div *ngIf=\"!productList.length; else productContainer\">\r\n      <mat-spinner></mat-spinner>\r\n    </div>\r\n    <ng-template #productContainer>\r\n      <mat-expansion-panel\r\n        fxLayout=\"row wrap\"\r\n        fxLayoutAlign=\"center center\"\r\n        fxFlex=\"87\"\r\n        class=\"productCategory\"\r\n        *ngFor=\"let category of PRODUCTCATEGORY | keyvalue\"\r\n      >\r\n        <mat-expansion-panel-header fxFlex=\"100\" class=\"productCategoryHeader\">\r\n          <mat-panel-title>{{ category.value }}</mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n\r\n        <mat-card\r\n          *ngFor=\"let product of filterProductByCategory(category.value)\"\r\n          fxFlex=\"49\"\r\n          fxFlex.lt-sm=\"100\"\r\n          [ngClass]=\"{\r\n            unavailableItem: showShortDeliveryMessage && !product.shortDelivery\r\n          }\"\r\n        >\r\n          <mat-expansion-panel class=\"productExpansion\">\r\n            <mat-expansion-panel-header class=\"productExpansionHeader\">\r\n              <mat-panel-title>{{ product.name }}</mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <div class=\"productExpansionBody\">\r\n              <p>{{ product.description }}</p>\r\n              <mat-form-field\r\n                fxFlex=\"100\"\r\n                appearance=\"outline\"\r\n                [formGroup]=\"commentFormGroup\"\r\n              >\r\n                <mat-label>Commentaire</mat-label>\r\n                <textarea\r\n                  matInput\r\n                  [formControlName]=\"product.name\"\r\n                  placeholder=\"Ex: boules tranchées, forme des pains, ...\"\r\n                ></textarea>\r\n              </mat-form-field>\r\n              <div [formGroup]=\"sliceFormGroup\" *ngIf=\"product.isSliceable\">\r\n                <mat-checkbox\r\n                  class=\"slicedCheckbox\"\r\n                  [formControlName]=\"product.name\"\r\n                  >Tranché\r\n                </mat-checkbox>\r\n              </div>\r\n            </div>\r\n          </mat-expansion-panel>\r\n          <mat-card-content\r\n            class=\"cardPriceQuantity\"\r\n            fxLayout=\"row wrap\"\r\n            fxLayoutAlign=\"space-between baseline\"\r\n          >\r\n            <div>\r\n              Prix: {{ product.price.toFixed(2) }} € H.T. / {{ product.unit }}\r\n            </div>\r\n            <div>\r\n              <mat-form-field\r\n                [formGroup]=\"itemFormGroup\"\r\n                class=\"quantityInput\"\r\n                appearance=\"outline\"\r\n              >\r\n                <mat-label>Quantité</mat-label>\r\n                <input\r\n                  matInput\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  [formControlName]=\"product.name\"\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </mat-expansion-panel>\r\n    </ng-template>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <mat-divider fxFlex=\"50\"></mat-divider>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"flex-start center\">\r\n    <mat-form-field\r\n      fxFlexOffset=\"7\"\r\n      fxFlex=\"87\"\r\n      fxFlex.lt-sm=\"87\"\r\n      appearance=\"outline\"\r\n    >\r\n      <mat-label>Commentaires</mat-label>\r\n      <textarea\r\n        matInput\r\n        formControlName=\"orderComment\"\r\n        placeholder=\"Ex: Déposer la livraison en arrière cuisine, ...\"\r\n      ></textarea>\r\n    </mat-form-field>\r\n  </div>\r\n  <div\r\n    fxLayout=\"column wrap\"\r\n    fxLayoutAlign=\"center center\"\r\n    *ngIf=\"orderForm.get('totalPrice')?.value > 0\"\r\n  >\r\n    <h2 fxFlex=\"50\">Résumé de la commande :</h2>\r\n    <div fxFlex=\"50\">\r\n      <h3\r\n        *ngFor=\"let item of orderSummary | summaryPipe\"\r\n        [innerHtml]=\"item\"\r\n      ></h3>\r\n    </div>\r\n    <h3\r\n      fxFlex=\"50\"\r\n      fxFlexOffset=\"2\"\r\n      *ngIf=\"orderForm.get('orderComment')?.value\"\r\n      class=\"orderCommentSummaryTitle\"\r\n    >\r\n      Commentaire de la commande :\r\n    </h3>\r\n    <h3\r\n      fxFlex=\"50\"\r\n      fxFlexOffset=\"2\"\r\n      *ngIf=\"orderForm.get('orderComment')?.value\"\r\n      class=\"summaryComment\"\r\n    >\r\n      <pre>\r\n      {{ orderForm.get(\"orderComment\")?.value }}\r\n    </pre\r\n      >\r\n    </h3>\r\n    <h2 fxFlex=\"50\" fxFlexOffset=\"2\">Prix total :</h2>\r\n    <h2 fxFlex=\"50\">\r\n      {{ orderForm.get(\"totalPrice\")?.value.toFixed(2) }} € H.T.\r\n    </h2>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\" class=\"buttonRow\">\r\n    <button fxFlex=\"40\" fxFlex.lt-sm=\"87\" mat-raised-button type=\"submit\">\r\n      Commander\r\n    </button>\r\n  </div>\r\n</form>\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport firebase from 'firebase/app';\r\nimport { from, Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  constructor(public auth: AngularFireAuth) {}\r\n\r\n  public login(credentials: {\r\n    email: string;\r\n    password: string;\r\n  }): Observable<firebase.auth.UserCredential> {\r\n    return from(\r\n      this.auth\r\n        .signInWithEmailAndPassword(credentials.email, credentials.password)\r\n        .then(\r\n          (res) => {\r\n            return res;\r\n          },\r\n          (err) => {\r\n            throw err;\r\n          }\r\n        )\r\n    );\r\n  }\r\n\r\n  public logout(): void {\r\n    this.auth.signOut();\r\n  }\r\n\r\n  public isUserAuthenticated(): Observable<firebase.User | null> {\r\n    return this.auth.user;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@app/auth/services/auth.service';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n  public isConnected!: firebase.User | null;\r\n  public activatedRoute = '';\r\n  constructor(\r\n    public router: Router,\r\n    public authService: AuthService,\r\n    iconRegistry: MatIconRegistry,\r\n    sanitizer: DomSanitizer\r\n  ) {\r\n    this.authService\r\n      .isUserAuthenticated()\r\n      .pipe(\r\n        tap((user) => {\r\n          this.isConnected = user;\r\n        })\r\n      )\r\n      .subscribe();\r\n    iconRegistry.addSvgIcon(\r\n      'facebook',\r\n      sanitizer.bypassSecurityTrustResourceUrl(\r\n        '../assets/logos/facebook-circular-logo.svg'\r\n      )\r\n    );\r\n  }\r\n  public logoutAdminSpace(): void {\r\n    this.authService.logout();\r\n    this.router.navigate(['']);\r\n  }\r\n  public onActivate(): void {\r\n    this.activatedRoute = this.router.routerState.snapshot.url;\r\n  }\r\n}\r\n","<mat-toolbar-row\n  class=\"header\"\n  fxLayout=\"row wrap\"\n  fxLayoutAlign=\"flex-start center\"\n  fxLayoutAlign.lt-sm=\"center center\"\n>\n  <div fxFlex=\"20\" fxHide.lt-sm (click)=\"router.navigate([''])\">\n    <img\n      alt=\"logo boulangerie-m\"\n      src=\"../assets/images/logo-header.png\"\n      class=\"logo-header link\"\n    />\n  </div>\n  <div *ngIf=\"!isConnected\" fxFlex=\"60\" fxHide.lt-sm>\n    Plateforme de commande réservée aux professionnels\n  </div>\n  <div\n    *ngIf=\"isConnected\"\n    fxLayout=\"row wrap\"\n    fxLayoutAlign=\"space-evenly center\"\n    fxFlex=\"80\"\n    fxHide.lt-sm\n  >\n    <div class=\"link\" (click)=\"router.navigate([''])\">Formulaire</div>\n    <div class=\"link\" (click)=\"router.navigate(['admin/liste-commandes'])\">\n      Commandes\n    </div>\n    <div class=\"link\" (click)=\"router.navigate(['admin/recap-production'])\">\n      Production\n    </div>\n    <div class=\"link\" (click)=\"router.navigate(['admin/produits'])\">\n      Produits\n    </div>\n    <div\n      class=\"link logoutHeader\"\n      fxLayoutAlign=\"center center\"\n      (click)=\"logoutAdminSpace()\"\n    >\n      <mat-icon>exit_to_app</mat-icon>\n      <span>Se déconnecter</span>\n    </div>\n  </div>\n  <!-- Mobile menu -------------------------------------------->\n  <div *ngIf=\"isConnected\" fxHide.gt-xs fxFlex.lt-sm=\"10\"></div>\n  <div fxHide.gt-xs fxFlex.lt-sm=\"80\" (click)=\"router.navigate([''])\">\n    <img\n      alt=\"logo boulangerie-m\"\n      src=\"../assets/images/logo-header.png\"\n      class=\"logo-header link\"\n    />\n  </div>\n  <button\n    *ngIf=\"isConnected\"\n    class=\"mobileMenuButton\"\n    fxHide.gt-xs\n    fxFlex.lt-sm=\"10\"\n    mat-icon-button\n    [matMenuTriggerFor]=\"menu\"\n  >\n    <mat-icon>more_vert</mat-icon>\n  </button>\n  <mat-menu #menu=\"matMenu\" xPosition=\"after\">\n    <button\n      *ngIf=\"!activatedRoute.includes('liste')\"\n      mat-menu-item\n      (click)=\"router.navigate(['admin/liste-commandes'])\"\n    >\n      <mat-icon>shopping_basket</mat-icon>\n      <span>Commandes</span>\n    </button>\n    <button\n      *ngIf=\"!activatedRoute.includes('production')\"\n      mat-menu-item\n      (click)=\"router.navigate(['admin/recap-production'])\"\n    >\n      <mat-icon>supervisor_account</mat-icon>\n      <span>Production</span>\n    </button>\n    <button\n      *ngIf=\"!activatedRoute.includes('produits')\"\n      mat-menu-item\n      (click)=\"router.navigate(['admin/produits'])\"\n    >\n      <mat-icon>fastfood</mat-icon>\n      <span>Produits</span>\n    </button>\n    <button\n      *ngIf=\"activatedRoute.includes('admin')\"\n      mat-menu-item\n      (click)=\"router.navigate(['/'])\"\n    >\n      <mat-icon>list</mat-icon>\n      <span>Formulaire</span>\n    </button>\n    <button mat-menu-item (click)=\"logoutAdminSpace()\">\n      <mat-icon>exit_to_app</mat-icon>\n      <span>Se déconnecter</span>\n    </button>\n  </mat-menu>\n</mat-toolbar-row>\n<!-- ----------------------------------------------- -->\n<div class=\"container-page\">\n  <router-outlet (activate)=\"onActivate()\"></router-outlet>\n</div>\n<footer\n  class=\"footer\"\n  fxLayout=\"row wrap\"\n  fxLayout.lt-sm=\"column wrap\"\n  fxLayoutAlign=\"space-evenly center\"\n>\n  <div>\n    <p>\n      Boulangerie M <br />\n      127 Avenue du Lieutenant-Colonel Bernier <br />\n      17000 La Rochelle\n    </p>\n  </div>\n  <div>\n    <p>\n      <mat-icon>phone</mat-icon>\n      <span class=\"textWithIcon\"> 05 46 01 09 72 </span>\n    </p>\n    <p>\n      <mat-icon svgIcon=\"facebook\" class=\"iconFb\"></mat-icon>&nbsp;\n      <a\n        class=\"textWithIcon\"\n        href=\"https://www.facebook.com/pages/category/Bakery/Boulangerie-M-437577199741453/\"\n        target=\"blank\"\n        >Notre page facebook</a\n      >\n    </p>\n  </div>\n  <div>\n    <div class=\"link\" (click)=\"router.navigate(['mentions-legales'])\">\n      <p>Mentions Légales</p>\n    </div>\n    <div class=\"link\">\n      <p *ngIf=\"!isConnected\" (click)=\"router.navigate(['admin'])\">\n        Espace administrateur\n      </p>\n      <p *ngIf=\"isConnected\" (click)=\"logoutAdminSpace()\">Déconnexion</p>\n    </div>\n    <p>\n      Réalisé gracieusement par\n      <a href=\"https://www.linkedin.com/in/alexandre-guerin/\" target=\"blank\"\n        >Ithrandil</a\n      >\n    </p>\n  </div>\n</footer>\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\nimport { LoginModalComponent } from './components/login-modal/login-modal.component';\r\nimport { LoginPageComponent } from './pages/login-page/login-page.component';\r\nimport { AuthService } from './services/auth.service';\r\n\r\n@NgModule({\r\n  declarations: [LoginModalComponent, LoginPageComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatDialogModule,\r\n    MatFormFieldModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    FlexLayoutModule,\r\n    MatButtonModule,\r\n  ],\r\n  providers: [AuthService],\r\n})\r\nexport class AuthModule {}\r\n","import { registerLocaleData } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport localeFrExtra from '@angular/common/locales/extra/fr';\r\nimport localeFr from '@angular/common/locales/fr';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFireAnalyticsModule } from '@angular/fire/analytics';\r\nimport { AngularFireAuthGuard } from '@angular/fire/auth-guard';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { environment } from './../environments/environment';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { MentionsLegalesComponent } from './core/pages/mentions-legales/mentions-legales.component';\r\nimport { OrderModule } from './order/order.module';\r\n\r\nregisterLocaleData(localeFr, 'fr-FR', localeFrExtra);\r\n@NgModule({\r\n  declarations: [AppComponent, MentionsLegalesComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    AngularFireModule.initializeApp(environment.firebaseConfig),\r\n    AngularFireAnalyticsModule,\r\n    AngularFirestoreModule,\r\n    BrowserAnimationsModule,\r\n    OrderModule,\r\n    FlexLayoutModule,\r\n    AuthModule,\r\n    MatToolbarModule,\r\n    MatMenuModule,\r\n    MatIconModule,\r\n    HttpClientModule,\r\n  ],\r\n  providers: [{ provide: LOCALE_ID, useValue: 'fr-FR' }, AngularFireAuthGuard],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { NativeDateAdapter } from '@angular/material/core';\r\n\r\n@Injectable()\r\nexport class MondayStartWeekDateAdapter extends NativeDateAdapter {\r\n  getFirstDayOfWeek(): number {\r\n    return 1;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { OrderSummary } from '@models/order';\r\n\r\n@Pipe({ name: 'summaryPipe' })\r\nexport class OrderSummaryPipe implements PipeTransform {\r\n  transform(obj: OrderSummary): string[] {\r\n    const tmpProducts = obj.products.filter(\r\n      (el) => el[1] !== null && el[1] > 0\r\n    );\r\n    const tmpSliced = obj.sliced.filter((el) => el[1] !== null);\r\n    const tmpComments = obj.comments.filter(\r\n      (el) => el[1] !== null && el[1].length > 0\r\n    );\r\n    const res: string[] = [];\r\n    tmpProducts.forEach((prodEl) => {\r\n      res.push(`- ${prodEl[0]} : ${prodEl[1]}`);\r\n      const sliced = tmpSliced.find((sliceEl) => sliceEl[0] === prodEl[0]);\r\n      if (sliced && sliced[1]) {\r\n        res[res.length - 1] = res[res.length - 1].concat(` - Tranché`);\r\n      }\r\n      const comment = tmpComments.find(\r\n        (commentEl) => commentEl[0] === prodEl[0]\r\n      );\r\n      if (comment) {\r\n        res[res.length - 1] = res[res.length - 1].concat(\r\n          `<br>&nbsp;&nbsp;Commentaire : ${comment[1]}`\r\n        );\r\n      }\r\n    });\r\n    return res;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-form-validated',\r\n  templateUrl: './form-validated-modal.component.html',\r\n  styleUrls: ['./form-validated-modal.component.scss'],\r\n})\r\nexport class FormValidatedModalComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n}\r\n","<h2 mat-dialog-title>Votre commande a été envoyée.<br />Merci!</h2>\r\n<mat-dialog-content fxLayout=\"column wrap\">\r\n  <p>\r\n    La boulangerie M vous remercie de votre commande. En cas d'erreur ou de\r\n    questions, n'hésitez pas à nous contacter au 05 46 01 09 72.\r\n  </p>\r\n  <p>\r\n    En espérant vous revoir très prochainement et que votre commande vous\r\n    satifera pleinement.\r\n  </p>\r\n  <p fxFlexLayout=\"row wrap\" fxLayoutAlign=\"flex-end center\">L'équipe M</p>\r\n</mat-dialog-content>\r\n<mat-dialog-actions fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n  <button mat-button [mat-dialog-close]=\"true\">Fermer</button>\r\n</mat-dialog-actions>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@app/auth/services/auth.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-login-modal',\r\n  templateUrl: './login-modal.component.html',\r\n  styleUrls: ['./login-modal.component.scss'],\r\n})\r\nexport class LoginModalComponent implements OnInit {\r\n  public loginErrorMessage = '';\r\n  public loginForm = this.fb.group({\r\n    email: [null, [Validators.required]],\r\n    password: [null, [Validators.required]],\r\n  });\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private authService: AuthService,\r\n    public router: Router,\r\n    private dialog: MatDialog\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  public login(): void {\r\n    if (this.loginForm.valid) {\r\n      this.authService\r\n        .login(this.loginForm.value)\r\n        .pipe(take(1))\r\n        .subscribe(\r\n          () => {\r\n            this.router.navigate(['admin']);\r\n            this.dialog.closeAll();\r\n          },\r\n          (err) => {\r\n            this.loginErrorMessage = err.message;\r\n          }\r\n        );\r\n    }\r\n  }\r\n}\r\n","<div matDialogTitle fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n  <h2 fxFlex=\"87\" fxLayoutAlign=\"center center\">Connexion</h2>\r\n</div>\r\n<form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <mat-form-field fxFlex=\"87\" appearance=\"outline\">\r\n      <mat-label>E-mail</mat-label>\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        placeholder=\"Ex: john.doe@gmail.com\"\r\n        formControlName=\"email\"\r\n        required\r\n      />\r\n      <mat-error *ngIf=\"loginForm?.get('email')?.invalid\"\r\n        >E-mail obligatoire</mat-error\r\n      >\r\n    </mat-form-field>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <mat-form-field fxFlex=\"87\" appearance=\"outline\">\r\n      <mat-label>Mot de passe</mat-label>\r\n      <input\r\n        matInput\r\n        type=\"password\"\r\n        placeholder=\"Ex: MySecretPassword\"\r\n        formControlName=\"password\"\r\n        required\r\n      />\r\n      <mat-error *ngIf=\"loginForm?.get('password')?.invalid\"\r\n        >Mot de passe obligatoire</mat-error\r\n      >\r\n    </mat-form-field>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n    <p\r\n      fxFlex=\"87\"\r\n      fxLayoutAlign=\"center center\"\r\n      *ngIf=\"loginErrorMessage\"\r\n      class=\"errorMessage\"\r\n    >\r\n      {{ loginErrorMessage }}\r\n    </p>\r\n  </div>\r\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-evenly center\">\r\n    <button\r\n      fxFlex=\"40\"\r\n      fxFlex.lt-sm=\"87\"\r\n      fxFlexOrder.lt-sm=\"2\"\r\n      fxFlexOrder.gt-xs=\"1\"\r\n      mat-raised-button\r\n      type=\"button\"\r\n      mat-dialog-close\r\n      (click)=\"router.navigate([''])\"\r\n    >\r\n      Annuler\r\n    </button>\r\n    <button\r\n      fxFlex=\"40\"\r\n      fxFlex.lt-sm=\"87\"\r\n      fxFlexOrder.lt-sm=\"1\"\r\n      fxFlexOrder.gt-xs=\"2\"\r\n      mat-raised-button\r\n      type=\"submit\"\r\n    >\r\n      Se connecter\r\n    </button>\r\n  </div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport {\r\n  canActivate,\r\n  redirectLoggedInTo,\r\n  redirectUnauthorizedTo,\r\n} from '@angular/fire/auth-guard';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginPageComponent } from './auth/pages/login-page/login-page.component';\r\nimport { MentionsLegalesComponent } from './core/pages/mentions-legales/mentions-legales.component';\r\nimport { OrderFormComponent } from './order/pages/order-form/order-form.component';\r\n\r\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['connexion']);\r\nconst redirectAlreadyLoggedIn = () => redirectLoggedInTo(['admin']);\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: 'commande', pathMatch: 'full' },\r\n  { path: 'commande', component: OrderFormComponent },\r\n  { path: 'mentions-legales', component: MentionsLegalesComponent },\r\n  {\r\n    path: 'connexion',\r\n    component: LoginPageComponent,\r\n    ...canActivate(redirectAlreadyLoggedIn),\r\n  },\r\n  {\r\n    path: 'admin',\r\n    loadChildren: () =>\r\n      import('./admin/admin.module').then((m) => m.AdminModule),\r\n    ...canActivate(redirectUnauthorizedToLogin),\r\n  },\r\n  // { path: '404', component: PageNotFoundPage },\r\n  { path: '**', redirectTo: 'commande' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","export interface Product {\r\n  productId: string;\r\n  name: string;\r\n  description: string;\r\n  unit: ProductUnit;\r\n  price: number;\r\n  available: boolean;\r\n  shortDelivery: boolean;\r\n  category: ProductCategory;\r\n  isSliceable: string;\r\n}\r\n\r\nexport enum ProductUnit {\r\n  KG = 'kilo',\r\n  UNIT = 'unité',\r\n}\r\n\r\nexport enum ProductCategory {\r\n  BAGUETTE = 'Baguettes',\r\n  SANDWICH = 'Pains sandwichs',\r\n  INDIVIDUEL = 'Pains individuels',\r\n  COUPE = 'Pains à la coupe',\r\n  PIECE = 'Pains à la pièce',\r\n  VIENNOISERIE = 'Viennoiseries',\r\n  MIE = 'Pains de mie',\r\n  GATEAU = 'Gâteaux de voyage',\r\n  PATES = 'Pâtes',\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}