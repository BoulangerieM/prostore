"use strict";(self.webpackChunkboulangerie_m=self.webpackChunkboulangerie_m||[]).push([[988],{9988:($t,ee,a)=>{a.r(ee),a.d(ee,{UserModule:()=>Gt});var d=a(3075),f=a(9224),N=a(7446),D=a(6856),F=a(1125),y=a(7322),ue=a(3874),z=a(7531),h=a(9808),e=a(5e3),O=a(508),U=a(7423),te=a(4107),R=a(9776),Y=a(5664),ie=a(495),_=a(3191),oe=a(1159),w=a(7579),he=a(9841),ge=a(7272),fe=a(9751),I=a(5698),_e=a(5684),ve=a(8372),se=a(4004),xe=a(8675),T=a(2722),k=a(925);const ne=new Set;let A,ye=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Te(i){if(!ne.has(i))try{A||(A=document.createElement("style"),A.setAttribute("type","text/css"),document.head.appendChild(A)),A.sheet&&(A.sheet.insertRule(`@media ${i} {body{ }}`,0),ne.add(i))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k.t4))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ie(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Pe=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new w.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return re((0,_.Eq)(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){const s=re((0,_.Eq)(t)).map(l=>this._registerQuery(l).observable);let r=(0,he.a)(s);return r=(0,ge.z)(r.pipe((0,I.q)(1)),r.pipe((0,_e.T)(1),(0,ve.b)(0))),r.pipe((0,se.U)(l=>{const p={matches:!1,breakpoints:{}};return l.forEach(({matches:c,query:m})=>{p.matches=p.matches||c,p.breakpoints[m]=c}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),r={observable:new fe.y(l=>{const p=c=>this._zone.run(()=>l.next(c));return o.addListener(p),()=>{o.removeListener(p)}}).pipe((0,xe.O)(o),(0,se.U)(({matches:l})=>({query:t,matches:l})),(0,T.R)(this._destroySubject)),mql:o};return this._queries.set(t,r),r}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ye),e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function re(i){return i.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}var Oe=a(7429),u=a(1777),Ae=a(226);const Ce={tooltipState:(0,u.X$)("state",[(0,u.SB)("initial, void, hidden",(0,u.oB)({opacity:0,transform:"scale(0)"})),(0,u.SB)("visible",(0,u.oB)({transform:"scale(1)"})),(0,u.eR)("* => visible",(0,u.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,u.F4)([(0,u.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,u.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,u.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,u.eR)("* => hidden",(0,u.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,u.oB)({opacity:0})))])},ae="tooltip-panel",le=(0,k.i$)({passive:!0}),de=new e.OlP("mat-tooltip-scroll-strategy"),De={provide:de,deps:[R.aV],useFactory:function Ue(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},Fe=new e.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function we(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Se=(()=>{class i{constructor(t,o,s,r,l,p,c,m,x,P,g,b){this._overlay=t,this._elementRef=o,this._scrollDispatcher=s,this._viewContainerRef=r,this._ngZone=l,this._platform=p,this._ariaDescriber=c,this._focusMonitor=m,this._dir=P,this._defaultOptions=g,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new w.x,this._scrollStrategy=x,this._document=b,g&&(g.position&&(this.position=g.position),g.touchGestures&&(this.touchGestures=g.touchGestures)),P.change.pipe((0,T.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var o;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(o=this._tooltipInstance)||void 0===o||o.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,_.Ig)(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=(0,_.su)(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=(0,_.su)(t)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,T.R)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([o,s])=>{t.removeEventListener(o,s,le)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const o=this._createOverlay();this._detach(),this._portal=this._portal||new Oe.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=o.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,T.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return o.positionChanges.pipe((0,T.R)(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${ae}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,T.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,T.R)(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,T.R)(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===oe.hY&&!(0,oe.Vb)(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const o=t.getConfig().positionStrategy,s=this._getOrigin(),r=this._getOverlayPosition();o.withPositions([this._addOffset(Object.assign(Object.assign({},s.main),r.main)),this._addOffset(Object.assign(Object.assign({},s.fallback),r.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let s;"above"==o||"below"==o?s={originX:"center",originY:"above"==o?"top":"bottom"}:"before"==o||"left"==o&&t||"right"==o&&!t?s={originX:"start",originY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(s={originX:"end",originY:"center"});const{x:r,y:l}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:r,originY:l}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,o=this.position;let s;"above"==o?s={overlayX:"center",overlayY:"bottom"}:"below"==o?s={overlayX:"center",overlayY:"top"}:"before"==o||"left"==o&&t||"right"==o&&!t?s={overlayX:"end",overlayY:"center"}:("after"==o||"right"==o&&t||"left"==o&&!t)&&(s={overlayX:"start",overlayY:"center"});const{x:r,y:l}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:r,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,I.q)(1),(0,T.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,o){return"above"===this.position||"below"===this.position?"top"===o?o="bottom":"bottom"===o&&(o="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:o}}_updateCurrentPositionClass(t){const{overlayY:o,originX:s,originY:r}=t;let l;if(l="center"===o?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===o&&"top"===r?"above":"below",l!==this._currentPosition){const p=this._overlayRef;if(p){const c=`${this._cssClassPrefix}-${ae}-`;p.removePanelClass(c+this._currentPosition),p.addPanelClass(c+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",o=>this._wheelListener(o)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const o=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",o],["touchcancel",o])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([o,s])=>{this._elementRef.nativeElement.addEventListener(o,s,le)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const o=this._document.elementFromPoint(t.clientX,t.clientY),s=this._elementRef.nativeElement;o!==s&&!s.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const o=this._elementRef.nativeElement,s=o.style;("on"===t||"INPUT"!==o.nodeName&&"TEXTAREA"!==o.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===t||!o.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(t){e.$Z()},i.\u0275dir=e.lG2({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),Le=(()=>{class i extends Se{constructor(t,o,s,r,l,p,c,m,x,P,g,b){super(t,o,s,r,l,p,c,m,x,P,g,b),this._tooltipComponent=Ee}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(R.aV),e.Y36(e.SBq),e.Y36(ie.mF),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(k.t4),e.Y36(Y.$s),e.Y36(Y.tE),e.Y36(de),e.Y36(Ae.Is,8),e.Y36(Fe,8),e.Y36(h.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[e.qOj]}),i})(),qe=(()=>{class i{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new w.x}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const o=t.toState;"hidden"===o&&!this.isVisible()&&this._onHide.next(),("visible"===o||"hidden"===o)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO))},i.\u0275dir=e.lG2({type:i}),i})(),Ee=(()=>{class i extends qe{constructor(t,o){super(t),this._breakpointObserver=o,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(Pe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,o){2&t&&e.Udp("zoom","visible"===o._visibility?1:null)},features:[e.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("@state.start",function(){return o._animationStart()})("@state.done",function(r){return o._animationDone(r)}),e.ALo(1,"async"),e._uU(2),e.qZA()),2&t){let s;e.ekj("mat-tooltip-handset",null==(s=e.lcZ(1,5,o._isHandset))?null:s.matches),e.Q6J("ngClass",o.tooltipClass)("@state",o._visibility),e.xp6(2),e.Oqu(o.message)}},directives:[h.mk],pipes:[h.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Ce.tooltipState]},changeDetection:0}),i})(),Ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[De],imports:[[Y.rt,h.ez,R.U8,O.BQ],O.BQ,ie.ZD]}),i})();function ze(i,n){if(1&i&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Re(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",16)(1,"mat-select",17),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw(2)._changePageSize(s.value)}),e.YNc(2,ze,2,2,"mat-option",18),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("appearance",t._formFieldAppearance)("color",t.color),e.xp6(1),e.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),e.xp6(1),e.Q6J("ngForOf",t._displayedPageSizeOptions)}}function Ye(i,n){if(1&i&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.pageSize)}}function ke(i,n){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.qZA(),e.YNc(3,Re,3,6,"mat-form-field",14),e.YNc(4,Ye,2,1,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ",t._intl.itemsPerPageLabel," "),e.xp6(1),e.Q6J("ngIf",t._displayedPageSizeOptions.length>1),e.xp6(1),e.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function Be(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().firstPage()}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",22),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),e.uIk("aria-label",t._intl.firstPageLabel)}}function Je(i,n){if(1&i){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().lastPage()}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",24),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),e.uIk("aria-label",t._intl.lastPageLabel)}}let S=(()=>{class i{constructor(){this.changes=new w.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,o,s)=>{if(0==s||0==o)return`0 of ${s}`;const r=t*o;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+o,s):r+o} of ${s}`}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const je={provide:S,deps:[[new e.FiY,new e.tp0,S]],useFactory:function Qe(i){return i||new S}},$e=new e.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Ve=(0,O.Id)((0,O.dB)(class{}));let He=(()=>{class i extends Ve{constructor(t,o,s){if(super(),this._intl=t,this._changeDetectorRef=o,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new e.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),s){const{pageSize:r,pageSizeOptions:l,hidePageSize:p,showFirstLastButtons:c}=s;null!=r&&(this._pageSize=r),null!=l&&(this._pageSizeOptions=l),null!=p&&(this._hidePageSize=p),null!=c&&(this._showFirstLastButtons=c)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max((0,_.su)(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=(0,_.su)(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max((0,_.su)(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(o=>(0,_.su)(o)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=(0,_.Ig)(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=(0,_.Ig)(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const s=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(s)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,o)=>t-o),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return i.\u0275fac=function(t){e.$Z()},i.\u0275dir=e.lG2({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[e.qOj]}),i})(),Xe=(()=>{class i extends He{constructor(t,o,s){super(t,o,s),s&&null!=s.formFieldAppearance&&(this._formFieldAppearance=s.formFieldAppearance)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S),e.Y36(e.sBO),e.Y36($e,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[e.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ke,5,3,"div",2),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.YNc(6,Be,3,5,"button",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return o.previousPage()}),e.O4$(),e.TgZ(8,"svg",7),e._UZ(9,"path",8),e.qZA()(),e.kcU(),e.TgZ(10,"button",9),e.NdJ("click",function(){return o.nextPage()}),e.O4$(),e.TgZ(11,"svg",7),e._UZ(12,"path",10),e.qZA()(),e.YNc(13,Je,3,5,"button",11),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.hidePageSize),e.xp6(3),e.hij(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),e.xp6(1),e.Q6J("ngIf",o.showFirstLastButtons),e.xp6(1),e.Q6J("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),e.uIk("aria-label",o._intl.previousPageLabel),e.xp6(3),e.Q6J("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),e.uIk("aria-label",o._intl.nextPageLabel),e.xp6(3),e.Q6J("ngIf",o.showFirstLastButtons))},directives:[y.KE,te.gD,O.ey,U.lW,h.O5,h.sg,Le],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),i})(),We=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[je],imports:[[h.ez,U.ot,te.LD,Ne,O.BQ]]}),i})();var Ke=a(4466),B=a(3300),L=a(427),C=a(1402),Z=a(1977),pe=a(6977),M=a(3556),J=a(8966),v=a(7093);function et(i,n){if(1&i&&(e.TgZ(0,"div")(1,"h3",2),e._uU(2,"Adresse de livraison :"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e._UZ(5,"br"),e._uU(6),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.hij("",null==t.userInformations||null==t.userInformations.deliveryAddress?null:t.userInformations.deliveryAddress.street," "),e.xp6(2),e.AsE("",null==t.userInformations||null==t.userInformations.deliveryAddress?null:t.userInformations.deliveryAddress.zipCode," ",null==t.userInformations||null==t.userInformations.deliveryAddress?null:t.userInformations.deliveryAddress.city,"")}}function tt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"button",7),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.updatingInfos=!s.updatingInfos}),e._uU(2," Modifier mes informations "),e.qZA()()}}function it(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage("name",t.infosPersosForm,t.errorMessages))}}function ot(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage("phone",t.infosPersosForm,t.errorMessages))}}function st(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage("street",t.infosPersosForm,t.errorMessages,"address"))}}function nt(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage("zipCode",t.infosPersosForm,t.errorMessages,"address"))}}function rt(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage("city",t.infosPersosForm,t.errorMessages,"address"))}}function at(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.getErrorMessage("street",t.infosPersosForm,t.errorMessages,"address"))}}function lt(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.getErrorMessage("zipCode",t.infosPersosForm,t.errorMessages,"address"))}}function dt(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.getErrorMessage("city",t.infosPersosForm,t.errorMessages,"address"))}}function pt(i,n){if(1&i&&(e.TgZ(0,"div",26)(1,"div",16)(2,"mat-form-field",17)(3,"mat-label"),e._uU(4,"Rue"),e.qZA(),e._UZ(5,"input",18),e.YNc(6,at,2,1,"mat-error",3),e.qZA()(),e.TgZ(7,"div",11)(8,"mat-form-field",12)(9,"mat-label"),e._uU(10,"Code postal"),e.qZA(),e._UZ(11,"input",19),e.YNc(12,lt,2,1,"mat-error",3),e.qZA(),e.TgZ(13,"mat-form-field",12)(14,"mat-label"),e._uU(15,"Ville"),e.qZA(),e._UZ(16,"input",20),e.YNc(17,dt,2,1,"mat-error",3),e.qZA()()()),2&i){const t=e.oxw(2);let o,s,r,l,p,c;e.xp6(6),e.Q6J("ngIf",null==(o=t.infosPersosForm.get("deliveryAddress"))||null==(s=o.get("street"))?null:s.invalid),e.xp6(6),e.Q6J("ngIf",null==(r=t.infosPersosForm.get("deliveryAddress"))||null==(l=r.get("zipCode"))?null:l.invalid),e.xp6(5),e.Q6J("ngIf",null==(p=t.infosPersosForm.get("deliveryAddress"))||null==(c=p.get("city"))?null:c.invalid)}}function ct(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",8)(1,"div",9),e._uU(2,"Attention, ces changements ne seront effectifs que pour les prochaines commandes et n'affecteront donc pas vos pr\xe9c\xe9dentes commandes."),e.qZA(),e.TgZ(3,"form",10),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().submitUpdateInfos()}),e.TgZ(4,"div",11)(5,"mat-form-field",12)(6,"mat-label"),e._uU(7,"Nom de votre entreprise"),e.qZA(),e._UZ(8,"input",13),e.YNc(9,it,2,1,"mat-error",3),e.qZA(),e.TgZ(10,"mat-form-field",12)(11,"mat-label"),e._uU(12,"Num\xe9ro de t\xe9l\xe9phone"),e.qZA(),e._UZ(13,"input",14),e.YNc(14,ot,2,1,"mat-error",3),e.qZA()(),e.TgZ(15,"div",15)(16,"div",16)(17,"mat-form-field",17)(18,"mat-label"),e._uU(19,"Rue"),e.qZA(),e._UZ(20,"input",18),e.YNc(21,st,2,1,"mat-error",3),e.qZA()(),e.TgZ(22,"div",11)(23,"mat-form-field",12)(24,"mat-label"),e._uU(25,"Code postal"),e.qZA(),e._UZ(26,"input",19),e.YNc(27,nt,2,1,"mat-error",3),e.qZA(),e.TgZ(28,"mat-form-field",12)(29,"mat-label"),e._uU(30,"Ville"),e.qZA(),e._UZ(31,"input",20),e.YNc(32,rt,2,1,"mat-error",3),e.qZA()()(),e.TgZ(33,"div",21)(34,"mat-checkbox",22),e.NdJ("change",function(s){return e.CHM(t),e.oxw().hasDifferentDeliveryAddress(s.checked)}),e._uU(35,"Adresse de livraison diff\xe9rente"),e.qZA()(),e.YNc(36,pt,18,3,"div",23),e.TgZ(37,"div",6)(38,"button",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.updatingInfos=!s.updatingInfos}),e._uU(39," Annuler "),e.qZA(),e.TgZ(40,"button",25),e._uU(41," Mettre \xe0 jour mes informations "),e.qZA()()()()}if(2&i){const t=e.oxw();let o,s,r,l,p,c,m,x;e.xp6(3),e.Q6J("formGroup",t.infosPersosForm),e.xp6(6),e.Q6J("ngIf",null==(o=t.infosPersosForm.get("name"))?null:o.invalid),e.xp6(5),e.Q6J("ngIf",null==(s=t.infosPersosForm.get("phone"))?null:s.invalid),e.xp6(7),e.Q6J("ngIf",null==(r=t.infosPersosForm.get("address"))||null==(l=r.get("street"))?null:l.invalid),e.xp6(6),e.Q6J("ngIf",null==(p=t.infosPersosForm.get("address"))||null==(c=p.get("zipCode"))?null:c.invalid),e.xp6(5),e.Q6J("ngIf",null==(m=t.infosPersosForm.get("address"))||null==(x=m.get("city"))?null:x.invalid),e.xp6(4),e.Q6J("ngIf",t.displayDeliveryForm)}}let mt=(()=>{class i{constructor(t,o,s){var r;this.fb=t,this.userService=o,this.dialog=s,this.updatingInfos=!1,this.displayDeliveryForm=!1,this.infosPersosForm=this.fb.group({name:[null===(r=this.userInformations)||void 0===r?void 0:r.name,[d.kI.required]],phone:["",[d.kI.required,d.kI.pattern("^[0-9]{10}$")]],address:this.fb.group({street:["",[d.kI.required]],zipCode:["",[d.kI.required,d.kI.pattern("^[0-9]{5}$")]],city:["",[d.kI.required]]}),deliveryAddress:this.fb.group({street:["",[d.kI.required]],zipCode:["",[d.kI.required,d.kI.pattern("^[0-9]{5}$")]],city:["",[d.kI.required]]},{disabled:!this.displayDeliveryForm}),hasDifferentDeliveryAddress:[this.displayDeliveryForm,[d.kI.required]]}),this.getErrorMessage=pe.h.GetErrorMessage,this.errorMessages={name:{required:"Nom de votre entreprise obligatoire"},phone:{required:"Num\xe9ro de t\xe9l\xe9phone obligatoire",pattern:"Doit contenir 10 chiffres"},street:{required:"Rue obligatoire"},zipCode:{required:"Code postal obligatoire",pattern:"Doit contenir 5 chiffres"},city:{required:"Ville obligatoire"}},this.userService.getUserInfos().subscribe(l=>{var p,c,m,x,P,g,b,Q,j,G,$,V,H,X,W,K;this.userInformations=l,null===(p=this.infosPersosForm.get("name"))||void 0===p||p.setValue(this.userInformations.name),null===(c=this.infosPersosForm.get("phone"))||void 0===c||c.setValue(this.userInformations.phone),null===(x=null===(m=this.infosPersosForm.get("address"))||void 0===m?void 0:m.get("street"))||void 0===x||x.setValue(this.userInformations.address.street),null===(g=null===(P=this.infosPersosForm.get("address"))||void 0===P?void 0:P.get("zipCode"))||void 0===g||g.setValue(this.userInformations.address.zipCode),null===(Q=null===(b=this.infosPersosForm.get("address"))||void 0===b?void 0:b.get("city"))||void 0===Q||Q.setValue(this.userInformations.address.city),null===(j=this.infosPersosForm.get("hasDifferentDeliveryAddress"))||void 0===j||j.setValue(!1),this.userInformations.deliveryAddress&&(this.displayDeliveryForm=!0,null===(G=this.infosPersosForm.get("hasDifferentDeliveryAddress"))||void 0===G||G.setValue(!0),null===(V=null===($=this.infosPersosForm.get("deliveryAddress"))||void 0===$?void 0:$.get("street"))||void 0===V||V.setValue(this.userInformations.deliveryAddress.street),null===(X=null===(H=this.infosPersosForm.get("deliveryAddress"))||void 0===H?void 0:H.get("zipCode"))||void 0===X||X.setValue(this.userInformations.deliveryAddress.zipCode),null===(K=null===(W=this.infosPersosForm.get("deliveryAddress"))||void 0===W?void 0:W.get("city"))||void 0===K||K.setValue(this.userInformations.deliveryAddress.city)),this.hasDifferentDeliveryAddress(this.displayDeliveryForm)})}hasDifferentDeliveryAddress(t){var o,s;this.displayDeliveryForm=t,this.displayDeliveryForm?null===(o=this.infosPersosForm.get("deliveryAddress"))||void 0===o||o.enable():null===(s=this.infosPersosForm.get("deliveryAddress"))||void 0===s||s.disable()}submitUpdateInfos(){var t;this.infosPersosForm.valid&&(!(null===(t=this.infosPersosForm.get("hasDifferentDeliveryAddress"))||void 0===t?void 0:t.value)&&!!this.userInformations.deliveryAddress&&this.userService.deleteDeliveryAddress(this.userInformations.firebaseUid).pipe((0,I.q)(1)).subscribe(),this.userService.updateUserInformations(this.infosPersosForm.value,this.userInformations.firebaseUid).pipe((0,I.q)(1)).subscribe({next:()=>{this.updatingInfos=!1,this.updateValidationModal=this.dialog.open(Z.q,(0,M.S)({title:"Mise \xe0 jour effectu\xe9e!",bodyText:"\n                <p>Vos informations ont bien \xe9t\xe9 mises \xe0 jour.</p>\n                <p>Elles seront prises en compte pour toutes vos futures commandes.</p>\n                "})),this.infosPersosForm.reset()},error:o=>{this.updateValidationModal=this.dialog.open(Z.q,(0,M.S)({title:"Oups, une erreur est survenue!",bodyText:`\n                <p>Ils semble qu'il y ai eu un probl\xe8me lors de la mise \xe0 jour de vos informations.</p>\n                <p>Veuillez r\xe9essayer plus tard.</p>\n                <p>Erreur : ${o.message}.</p>\n                `}))}}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.qu),e.Y36(L.K),e.Y36(J.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-infos-perso"]],decls:26,vars:10,consts:[["id","cardInfosPerso",1,"m-card"],["fxLayout","row","fxLayoutAlign","center center",1,"m-card-title"],[1,"h3InfosPerso"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center",4,"ngIf"],["id","cardModifInfos","class","m-card",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-evenly center"],["fxFlex","40","fxFlex.lt-sm","87","mat-raised-button","","aria-label","Modifier mes informations personnelles",1,"updateInfosButton",3,"click"],["id","cardModifInfos",1,"m-card"],["id","importantInformation"],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutAlign","space-evenly space-evenly"],["fxFlex","40","fxFlex.lt-sm","87","appearance","outline"],["matInput","","type","text","placeholder","Ex: Restaurant du port","formControlName","name","required",""],["matInput","","type","tel","placeholder","Ex: 0546331122","formControlName","phone","required",""],["formGroupName","address"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","87","appearance","outline"],["matInput","","type","text","placeholder","Ex: 2 rue du port","formControlName","street","required",""],["matInput","","type","text","placeholder","Ex: 17000","formControlName","zipCode","required",""],["matInput","","type","text","placeholder","Ex: La Rochelle","formControlName","city","required",""],["fxLayout","row wrap","fxLayoutAlign","flex-start center",1,"checkboxRow"],["id","differentAddress","fxFlexOffset","7","formControlName","hasDifferentDeliveryAddress",3,"change"],["id","deliveryAddress","formGroupName","deliveryAddress",4,"ngIf"],["fxFlex","40","fxFlex.lt-sm","87","mat-raised-button","","aria-label","Annuler","id","cancelButton",3,"click"],["fxFlex","40","fxFlex.lt-sm","87","mat-raised-button","","type","submit",1,"updateInfosButton"],["id","deliveryAddress","formGroupName","deliveryAddress"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title",1)(2,"h1"),e._uU(3,"Mes informations personnelles"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"h3",2),e._uU(6,"Nom de votre entreprise :"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"h3",2),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e._UZ(13,"br"),e._uU(14),e.qZA(),e.YNc(15,et,7,3,"div",3),e.TgZ(16,"h3",2),e._uU(17,"Email : "),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA(),e.TgZ(20,"h3",2),e._uU(21,"Num\xe9ro de t\xe9l\xe9phone :"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA(),e.YNc(24,tt,3,0,"div",4),e.qZA()(),e.YNc(25,ct,42,7,"mat-card",5)),2&t&&(e.xp6(8),e.Oqu(null==o.userInformations?null:o.userInformations.name),e.xp6(2),e.Oqu(null!=o.userInformations&&o.userInformations.deliveryAddress?"Adresse de facturation :":"Adresse :"),e.xp6(2),e.Oqu(null==o.userInformations||null==o.userInformations.address?null:o.userInformations.address.street),e.xp6(2),e.AsE("",null==o.userInformations||null==o.userInformations.address?null:o.userInformations.address.zipCode," ",null==o.userInformations||null==o.userInformations.address?null:o.userInformations.address.city,""),e.xp6(1),e.Q6J("ngIf",null==o.userInformations?null:o.userInformations.deliveryAddress),e.xp6(4),e.Oqu(null==o.userInformations?null:o.userInformations.email),e.xp6(4),e.Oqu(null==o.userInformations?null:o.userInformations.phone),e.xp6(1),e.Q6J("ngIf",!o.updatingInfos),e.xp6(1),e.Q6J("ngIf",o.updatingInfos))},directives:[f.a8,f.n5,v.xw,v.Wh,f.dn,h.O5,U.lW,v.yH,d._Y,d.JL,d.sg,y.KE,y.hX,z.Nt,d.Fj,d.JJ,d.u,d.Q7,y.TO,d.x0,N.oG,v.UT],styles:['@charset "UTF-8";@media screen and (min-width: 960px){#cardInfosPerso[_ngcontent-%COMP%]{margin-top:2.5rem}}mat-card[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}h1[_ngcontent-%COMP%]{text-align:center;text-decoration:underline}.h3InfosPerso[_ngcontent-%COMP%]{color:#af762f;margin-bottom:.5rem}#cardModifInfos[_ngcontent-%COMP%]{margin-top:2.5rem}#importantInformation[_ngcontent-%COMP%]{color:#dc143c;text-align:center;margin-top:1rem;margin-bottom:3rem}@media screen and (min-width: 960px){#importantInformation[_ngcontent-%COMP%]{font-size:2rem}}#differentAddress[_ngcontent-%COMP%]{color:#af762f}#deliveryAddress[_ngcontent-%COMP%]{margin-top:2rem}@media screen and (max-width: 959px){#cancelButton[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:1rem}}.updateInfosButton[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}']}),i})();var q=a(8934),E=a(28),ut=a(6811);function ht(i,n){if(1&i&&(e.TgZ(0,"div")(1,"h4"),e._uU(2,"Adresse de livraison et facturation :"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.hij(" ",t.orderToPlace.address.street," "),e.xp6(3),e.hij(" ",t.orderToPlace.address.zipCode," "),e.xp6(2),e.hij(" ",t.orderToPlace.address.city," ")}}function gt(i,n){if(1&i&&(e.TgZ(0,"div")(1,"h4"),e._uU(2,"Adresse de facturation :"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div")(11,"h4"),e._uU(12,"Adresse de livraison :"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p")(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.orderToPlace.address.street),e.xp6(3),e.hij(" ",t.orderToPlace.address.zipCode," "),e.xp6(2),e.hij(" ",t.orderToPlace.address.city," "),e.xp6(5),e.Oqu(t.orderToPlace.deliveryAddress.street),e.xp6(3),e.hij(" ",t.orderToPlace.deliveryAddress.zipCode," "),e.xp6(2),e.hij(" ",t.orderToPlace.deliveryAddress.city," ")}}function ft(i,n){1&i&&(e.TgZ(0,"h3"),e._uU(1,"Commentaires "),e.qZA())}function _t(i,n){if(1&i&&(e.TgZ(0,"div")(1,"pre"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.orderToPlace.orderComment)}}function vt(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"s"),e.qZA())}function xt(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"\xa0/\xa0Tranch\xe9"),e.qZA())}function yt(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("\xa0/\xa0Commentaire\xa0:\xa0",t.comment,"")}}function Tt(i,n){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,vt,2,0,"span",4),e.YNc(3,xt,2,0,"span",4),e.YNc(4,yt,2,1,"span",4),e.qZA()),2&i){const t=n.$implicit,o=e.oxw();e.xp6(1),e.lnq(" ",null==t?null:t.product," : ",null==t?null:t.quantity," ",t.unit===o.PRODUCTUNIT.KG?o.PRODUCTUNITWORDING.KG:o.PRODUCTUNITWORDING.UNIT,""),e.xp6(1),e.Q6J("ngIf",t&&t.quantity&&t.quantity>1),e.xp6(1),e.Q6J("ngIf",t&&t.isSliced),e.xp6(1),e.Q6J("ngIf",t&&t.comment)}}function It(i,n){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.getErrorMessage("deliveryDate",t.orderForm,t.errorMessages))}}function Pt(i,n){if(1&i&&(e.TgZ(0,"mat-form-field",21)(1,"mat-label"),e._uU(2,"Heure de livraison"),e.qZA(),e._UZ(3,"input",22)(4,"ngx-material-timepicker",null,23),e.qZA()),2&i){const t=e.MAs(5);e.xp6(3),e.Q6J("ngxTimepicker",t)("format",24)}}let bt=(()=>{class i{constructor(t,o,s,r,l){var p,c;this.router=t,this.fb=o,this.openingDaysService=s,this.dialog=r,this.userService=l,this.PRODUCTUNITWORDING=E.oo,this.PRODUCTUNIT=E.A$,this.minimalDay=new Date,this.closingDays=[],this.selectDeliveryTime=!1,this.orderForm=this.fb.group({deliveryDate:[null,[d.kI.required]],deliveryTime:[null],orderDate:[new Date(Date.now()),[d.kI.required]]}),this.getErrorMessage=pe.h.GetErrorMessage,this.filterDaysAfterToday=q.E.FilterDaysAfterToday,this.orderDays=q.E.OrderDays,this.IsItOpenToday=q.E.IsItOpenToday,this.setMinimalDay=q.E.SetMinimalDay,this.errorMessages={deliveryDate:{required:"Date de livraison obligatoire",matDatepickerMin:"Date incorrecte"}},this.isItOpenToday=m=>this.IsItOpenToday(m,this.closingDays),void 0===(null===(c=null===(p=this.router.getCurrentNavigation())||void 0===p?void 0:p.extras.state)||void 0===c?void 0:c.data)&&this.router.navigate(["/compte/mes-commandes"]),this.orderToPlace=this.router.getCurrentNavigation().extras.state.data,this.orderToPlace.isCanceled&&delete this.orderToPlace.isCanceled,delete this.orderToPlace.orderId,this.openingDaysService.mapClosingDaysForCalendar().subscribe(m=>{this.closingDays=m.orderedClosingDays,this.minimalDay=m.minimalDay})}placeOrderAgain(){var t;if(null===(t=this.orderForm.get("orderDate"))||void 0===t||t.setValue(new Date(Date.now())),this.orderForm.valid){const o=Object.assign(Object.assign({},this.orderToPlace),this.orderForm.value);this.userService.placeSameOrder(o).pipe((0,I.q)(1)).subscribe({next:()=>{this.validatedModal=this.dialog.open(Z.q,(0,M.S)({title:"Votre commande a bien \xe9t\xe9 repass\xe9e!",bodyText:"\n                <p>La boulangerie M vous remercie pour votre commande.</p>\n                <p>En esp\xe9rant vous revoir tr\xe8s prochainement et que votre commande vous satisfera pleinement.</p>\n                ",buttonAction:()=>this.router.navigate(["/compte/mes-commandes"])}))},error:s=>{this.validatedModal=this.dialog.open(Z.q,(0,M.S)({title:"Oups",bodyText:`\n              <p>Une erreur a eu lieu la confirmation de votre commande, veuillez r\xe9essayer plus tard ou contacter la boulangerie directement. ${s}</p>\n              `}))}})}}specificDeliveryTime(t){var o,s,r;this.selectDeliveryTime=t,this.selectDeliveryTime?null===(o=this.orderForm.get("deliveryTime"))||void 0===o||o.enable():(null===(s=this.orderForm.get("deliveryTime"))||void 0===s||s.reset(),null===(r=this.orderForm.get("deliveryTime"))||void 0===r||r.disable())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.F0),e.Y36(d.qu),e.Y36(ut.X),e.Y36(J.uw),e.Y36(L.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-place-same-order-form"]],decls:37,vars:14,consts:[[1,"m-card"],["id","sameOrderContent"],[4,"ngIf","ngIfElse"],["mulitpleAddress",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayoutAlign","flex-end"],[3,"formGroup","ngSubmit"],["fxLayoutAlign","center center"],["fxFlex","40","fxFlex.lt-sm","100","appearance","outline",3,"click"],["matInput","","required","","formControlName","deliveryDate","readonly","",3,"min","matDatepicker","matDatepickerFilter"],["matSuffix","",3,"for"],["touchUi",""],["picker",""],["fxLayout","row","id","checkboxRow","fxLayoutAlign","center center","fxLayoutAlign.gt-sm","flex-start center"],[3,"checked","change"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutAlign.gt-sm","flex-start center"],["fxFlex","40","fxFlex.lt-sm","100","appearance","outline",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","center center"],["fxFlex","40","fxFlex.lt-sm","100","routerLink","/compte/mes-commandes","routerLinkActive","active","mat-raised-button","",1,"cancelButton"],["fxFlex","40","fxFlex.lt-sm","100","mat-raised-button","","type","submit"],["fxFlex","40","fxFlex.lt-sm","100","appearance","outline"],["min","06:00","max","12:00","readonly","","matInput","","formControlName","deliveryTime",3,"ngxTimepicker","format"],["datePicker",""]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"mat-card",0)(1,"h2"),e._uU(2,"Vous souhaitez repasser la commande suivante : "),e.qZA(),e.TgZ(3,"mat-card-content",1)(4,"mat-card-subtitle"),e._uU(5," Veuillez v\xe9rifier les produits et s\xe9lectionnez un nouveau jour de livraison. "),e.qZA(),e.YNc(6,ht,10,3,"div",2),e.YNc(7,gt,20,6,"ng-template",null,3,e.W1O),e.YNc(9,ft,2,0,"h3",4),e.YNc(10,_t,3,1,"div",4),e.TgZ(11,"h3"),e._uU(12,"Produits"),e.qZA(),e.TgZ(13,"ul"),e.YNc(14,Tt,5,6,"li",5),e.qZA(),e.TgZ(15,"h3",6),e._uU(16),e.qZA(),e.TgZ(17,"form",7),e.NdJ("ngSubmit",function(){return o.placeOrderAgain()}),e.TgZ(18,"div",8)(19,"mat-form-field",9),e.NdJ("click",function(){return e.CHM(s),e.MAs(25).open()}),e.TgZ(20,"mat-label"),e._uU(21,"Date de livraison"),e.qZA(),e._UZ(22,"input",10)(23,"mat-datepicker-toggle",11)(24,"mat-datepicker",12,13),e.YNc(26,It,2,1,"mat-error",4),e.qZA()(),e.TgZ(27,"div",14)(28,"mat-checkbox",15),e.NdJ("change",function(l){return o.specificDeliveryTime(l.checked)}),e._uU(29," Besoin d'une heure de livraison pr\xe9cise? "),e.qZA()(),e.TgZ(30,"div",16),e.YNc(31,Pt,6,2,"mat-form-field",17),e.qZA(),e.TgZ(32,"div",18)(33,"button",19),e._uU(34," Annuler "),e.qZA(),e.TgZ(35,"button",20),e._uU(36," Repasser la commande "),e.qZA()()()()()}if(2&t){const s=e.MAs(8),r=e.MAs(25);let l;e.xp6(6),e.Q6J("ngIf",!o.orderToPlace.deliveryAddress)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",o.orderToPlace.orderComment),e.xp6(1),e.Q6J("ngIf",o.orderToPlace.orderComment),e.xp6(4),e.Q6J("ngForOf",o.orderToPlace.order),e.xp6(2),e.hij("Prix total: ",null==o.orderToPlace||null==o.orderToPlace.totalPrice?null:o.orderToPlace.totalPrice.toFixed(2)," \u20ac H.T."),e.xp6(1),e.Q6J("formGroup",o.orderForm),e.xp6(5),e.Q6J("min",o.minimalDay)("matDatepicker",r)("matDatepickerFilter",o.isItOpenToday),e.xp6(1),e.Q6J("for",r),e.xp6(3),e.Q6J("ngIf",null==(l=o.orderForm.get("deliveryDate"))?null:l.invalid),e.xp6(2),e.Q6J("checked",o.selectDeliveryTime),e.xp6(3),e.Q6J("ngIf",o.selectDeliveryTime)}},directives:[f.a8,f.dn,f.$j,h.O5,h.sg,v.Wh,d._Y,d.JL,d.sg,y.KE,v.yH,y.hX,z.Nt,d.Fj,D.hl,d.Q7,d.JJ,d.u,D.nW,y.R9,D.Mq,y.TO,v.xw,N.oG,B.I2,B.ro,U.lW,C.rH,C.Od],styles:["mat-card[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}@media screen and (min-width: 960px){mat-card[_ngcontent-%COMP%]{margin-top:2.5rem}}@media screen and (min-width: 960px){mat-card-content#sameOrderContent[_ngcontent-%COMP%]{margin:2rem}}h2[_ngcontent-%COMP%]{text-align:center;text-decoration:underline}ul[_ngcontent-%COMP%]{padding-left:2rem}@media screen and (max-width: 959px){.cancelButton[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}}#checkboxRow[_ngcontent-%COMP%]{margin-bottom:2rem}"]}),i})();var Ot=a(6568),At=a(8630),ce=a(6424),Ct=a(3086),Zt=a(9558),me=a(3900),Mt=a(773),Ut=a(390);function Dt(i,n){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"mat-spinner"),e.qZA())}function Ft(i,n){1&i&&(e.TgZ(0,"div",4)(1,"h2"),e._uU(2,"Vous n'avez pas encore pass\xe9 de commandes."),e.qZA()())}function wt(i,n){if(1&i&&(e.TgZ(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header",12)(2,"mat-panel-title"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card-content",13),e._UZ(5,"app-list-recap-products",14),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.hij("R\xe9capitulatif de mes commandes en ",t.month," "),e.xp6(2),e.Q6J("allUserOrdersProducts",t.allUserOrdersProducts)}}function St(i,n){if(1&i&&(e.TgZ(0,"div")(1,"h4"),e._uU(2,"Adresse de livraison et facturation :"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.address.street," "),e.xp6(3),e.hij(" ",t.address.zipCode," "),e.xp6(2),e.hij(" ",t.address.city," ")}}function Lt(i,n){if(1&i&&(e.TgZ(0,"div")(1,"h4"),e._uU(2,"Adresse de facturation :"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"span"),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div")(11,"h4"),e._uU(12,"Adresse de livraison :"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p")(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.address.street),e.xp6(3),e.hij(" ",t.address.zipCode," "),e.xp6(2),e.hij(" ",t.address.city," "),e.xp6(5),e.Oqu(t.deliveryAddress.street),e.xp6(3),e.hij(" ",t.deliveryAddress.zipCode," "),e.xp6(2),e.hij(" ",t.deliveryAddress.city," ")}}function qt(i,n){1&i&&(e.TgZ(0,"h3"),e._uU(1,"Commentaires"),e.qZA())}function Et(i,n){if(1&i&&(e.TgZ(0,"div")(1,"pre"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.orderComment)}}function Nt(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"s"),e.qZA())}function zt(i,n){1&i&&(e.TgZ(0,"span"),e._uU(1,"\xa0/\xa0Tranch\xe9"),e.qZA())}function Rt(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("\xa0/\xa0Commentaire\xa0:\xa0",t.comment,"")}}function Yt(i,n){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.YNc(2,Nt,2,0,"span",18),e.YNc(3,zt,2,0,"span",18),e.YNc(4,Rt,2,1,"span",18),e.qZA()),2&i){const t=n.$implicit,o=e.oxw(3);e.xp6(1),e.lnq(" ",null==t?null:t.product," : ",null==t?null:t.quantity," ",t.unit===o.PRODUCTUNIT.KG?o.PRODUCTUNITWORDING.KG:o.PRODUCTUNITWORDING.UNIT,""),e.xp6(1),e.Q6J("ngIf",t&&t.quantity&&t.quantity>1),e.xp6(1),e.Q6J("ngIf",t&&t.isSliced),e.xp6(1),e.Q6J("ngIf",t&&t.comment)}}function kt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).cancelOrder(null==s?null:s.orderId)}),e._uU(1," Annuler ma commande "),e.qZA()}}function Bt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header",12)(2,"mat-panel-title"),e._uU(3),e.ALo(4,"date"),e.TgZ(5,"span",15),e._uU(6),e.qZA()()(),e.TgZ(7,"mat-card-content",13)(8,"mat-card-subtitle"),e._uU(9),e.ALo(10,"date"),e.ALo(11,"date"),e.qZA(),e.YNc(12,St,10,3,"div",16),e.YNc(13,Lt,20,6,"ng-template",null,17,e.W1O),e.YNc(15,qt,2,0,"h3",18),e.YNc(16,Et,3,1,"div",18),e.TgZ(17,"h3"),e._uU(18,"Produits"),e.qZA(),e.TgZ(19,"ul"),e.YNc(20,Yt,5,6,"li",19),e.qZA(),e.TgZ(21,"h3",20),e._uU(22),e.qZA(),e.TgZ(23,"div",21),e.YNc(24,kt,2,0,"button",22),e.TgZ(25,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).placeSameOrder(r)}),e._uU(26," Repasser la commande "),e.qZA()()()()}if(2&i){const t=n.$implicit,o=n.index,s=e.MAs(14),r=e.oxw(2);e.xp6(3),e.lnq("Commande n\xb0",r.totalUserOrders.length-10*r.currentIndex-o," pour le ",e.xi3(4,13,t.deliveryDate.toDate(),"EEEE d MMMM y"),"",null!=t&&t.deliveryTime?" \xe0 "+t.deliveryTime:"",""),e.xp6(3),e.Oqu(t.isCanceled?" ANNUL\xc9E":""),e.xp6(3),e.AsE(" Command\xe9e le ",e.xi3(10,16,t.orderDate.toDate(),"EEEE d MMMM y")," \xe0 ",e.xi3(11,19,t.orderDate.toDate(),"h:mm")," "),e.xp6(3),e.Q6J("ngIf",!t.deliveryAddress)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",t.orderComment),e.xp6(1),e.Q6J("ngIf",t.orderComment),e.xp6(4),e.Q6J("ngForOf",t.order),e.xp6(2),e.hij(" Prix total: ",null==t||null==t.totalPrice?null:t.totalPrice.toFixed(2)," \u20ac H.T. "),e.xp6(2),e.Q6J("ngIf",r.arrayCancelableOrders[10*r.currentIndex+o]&&!t.isCanceled)}}function Jt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",5)(1,"mat-card-title",6)(2,"h1"),e._uU(3,"Mes commandes"),e.qZA()(),e.TgZ(4,"mat-card-content"),e.YNc(5,wt,6,2,"mat-expansion-panel",7),e.YNc(6,Bt,27,22,"mat-expansion-panel",8),e.TgZ(7,"mat-paginator",9,10),e.NdJ("page",function(s){return e.CHM(t),e.oxw().pagination(s)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.allUserOrdersProducts.length>0),e.xp6(1),e.Q6J("ngForOf",t.displayedUserOrders),e.xp6(1),e.Q6J("length",t.totalUserOrders.length)("pageSize",10)("hidePageSize",!0)("showFirstLastButtons",!0)}}const Qt=[{path:"",redirectTo:"infos",pathMatch:"full"},{path:"infos",component:mt},{path:"mes-commandes",component:(()=>{class i{constructor(t,o,s){this.userService=t,this.router=o,this.dialog=s,this.PRODUCTUNITWORDING=E.oo,this.PRODUCTUNIT=E.A$,this.ordersLoading=!1,this.totalUserOrders=[],this.displayedUserOrders=[],this.currentIndex=0,this.arrayCancelableOrders=[],this.month="",this.allUserOrdersProducts=[]}ngOnInit(){this.getUserOrdersByDate(),this.getRecapLastMonthOrders()}getRecapLastMonthOrders(){this.userService.getUserInfos().pipe((0,I.q)(1),(0,me.w)(t=>{let o=new Date(Date.now());o=(0,ce.Z)(o,{hours:0,minutes:0,seconds:0,milliseconds:0});let s=o;return s=(0,Ct.Z)(s,{months:1}),s=(0,ce.Z)(s,{date:1}),this.month=At.o[(0,Zt.Z)(s)],this.userService.getUserOrdersForSpecificMonth(t.firebaseUid,s)})).subscribe(t=>{this.allUserOrdersProducts=(0,Ot.T)(t)})}getUserOrdersByDate(){this.ordersLoading=!0,this.userService.getUserInfos().pipe((0,I.q)(1),(0,me.w)(t=>this.userService.getUserOrders(t.firebaseUid))).subscribe(t=>{this.totalUserOrders=t.sort((o,s)=>o.deliveryDate>s.deliveryDate?-1:o.deliveryDate<s.deliveryDate?1:0),this.ordersLoading=!1,this.initiateFirstPageData()})}initiateFirstPageData(){this.displayedUserOrders=this.totalUserOrders.slice(0,10);let t=new Date;this.arrayCancelableOrders=this.totalUserOrders.map(o=>{let r=(o.deliveryDate.toDate().getTime()-t.getTime())/864e5;return r>=2||r>1&&r<2&&t.getHours()<18})}pagination(t){let o=t.previousPageIndex<t.pageIndex;this.currentIndex=t.pageIndex,this.displayedUserOrders=o?(null==t?void 0:t.pageIndex)==Math.floor(this.totalUserOrders.length/10)?this.totalUserOrders.slice(10*(null==t?void 0:t.pageIndex),this.totalUserOrders.length+1):this.totalUserOrders.slice(10*((null==t?void 0:t.pageIndex)-1),10*(null==t?void 0:t.pageIndex)):this.totalUserOrders.slice(10*(null==t?void 0:t.pageIndex),10*((null==t?void 0:t.pageIndex)+1))}cancelOrder(t){this.cancelOrderConfirmationModal=this.dialog.open(Z.q,(0,M.S)({title:"Annuler la commande",bodyText:"\n        <p>\xcates-vous s\xfbr de vouloir annuler votre commande ?</p>\n        <p>Vous aurez toujours la possibilit\xe9 de repasser la m\xeame commande apr\xe8s l'annulation.</p>\n        <p>De plus, elle sera toujours visible dans votre liste des commandes.</p>\n        ",extraCloseButton:!0,buttonText:"Annuler la commande",buttonAction:()=>this.userService.cancelOrder(t).pipe((0,I.q)(1)).subscribe({error:o=>{this.cancelOrderConfirmationModal=this.dialog.open(Z.q,(0,M.S)({title:"Oups",bodyText:`\n                <p>Une erreur a eu lieu pendant l'annulation de votre commande ${t}, veuillez r\xe9essayer plus tard ou contacter la boulangerie directement. ${o}</p>\n                `}))}})}))}placeSameOrder(t){this.router.navigate(["/compte/repasser-commande"],{state:{data:Object.assign({},t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(L.K),e.Y36(C.F0),e.Y36(J.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-orders"]],decls:3,vars:3,consts:[["fxLayout","row wrap","fxLayoutAlign","center center",4,"ngIf"],["class","noOrder","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["class","m-card","id","ordersListCard",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","center center",1,"noOrder"],["id","ordersListCard",1,"m-card"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"m-card-title"],["id","orderContainer",4,"ngIf"],["id","orderContainer",4,"ngFor","ngForOf"],["aria-label","Selectionnez la page",3,"length","pageSize","hidePageSize","showFirstLastButtons","page"],["paginator",""],["id","orderContainer"],[1,"userOrder"],[1,"orderDetail"],[3,"allUserOrdersProducts"],["id","canceledOrder"],[4,"ngIf","ngIfElse"],["mulitpleAddress",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["fxLayoutAlign","flex-end"],["fxLayout","row wrap","fxLayoutAlign","space-around center","fxLayoutAlign.lt-sm","center center"],["fxFlex","40","fxFlex.lt-sm","100","class","cancelButton","mat-raised-button","",3,"click",4,"ngIf"],["fxFlex","40","fxFlex.lt-sm","100","mat-raised-button","",3,"click"],["fxFlex","40","fxFlex.lt-sm","100","mat-raised-button","",1,"cancelButton",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,Dt,2,0,"div",0),e.YNc(1,Ft,3,0,"div",1),e.YNc(2,Jt,9,6,"mat-card",2)),2&t&&(e.Q6J("ngIf",!o.totalUserOrders.length&&o.ordersLoading),e.xp6(1),e.Q6J("ngIf",!o.totalUserOrders.length&&0===o.totalUserOrders.length&&!o.ordersLoading),e.xp6(1),e.Q6J("ngIf",o.totalUserOrders.length))},directives:[h.O5,v.xw,v.Wh,Mt.$g,f.a8,f.n5,f.dn,F.ib,F.yz,F.yK,Ut.g,h.sg,f.$j,U.lW,v.yH,Xe],pipes:[h.uU],styles:["@media screen and (min-width: 960px){#ordersListCard[_ngcontent-%COMP%]{margin-top:2.5rem}}mat-card[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%]{text-decoration:underline}#canceledOrder[_ngcontent-%COMP%]{padding-left:1rem;color:#dc143c}#orderContainer[_ngcontent-%COMP%]{margin-bottom:2rem}mat-expansion-panel-header.userOrder[_ngcontent-%COMP%]{height:7rem}@media screen and (min-width: 960px){mat-expansion-panel-header.userOrder[_ngcontent-%COMP%]{height:5rem}}mat-card-content.orderDetail[_ngcontent-%COMP%]{margin:2rem}h3[_ngcontent-%COMP%]{margin-top:2rem}ul[_ngcontent-%COMP%]{padding-left:2rem}@media screen and (max-width: 959px){.cancelButton[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}}"]}),i})()},{path:"repasser-commande",component:bt}];let jt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[C.Bz.forChild(Qt)],C.Bz]}),i})(),Gt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[L.K],imports:[[jt,y.lN,d.UX,z.c,N.p9,f.QW,ue.Ps,Ke.m,F.To,We,D.FA,B.rK]]}),i})()}}]);