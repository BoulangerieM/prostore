<div
  fxLayout="row"
  fxLayoutAlign="center center"
  *ngIf="!currentOrdersList.length && currentOrdersList.length > 0"
>
  <mat-spinner></mat-spinner>
</div>
<div
  id="noOrder"
  fxLayout="row"
  fxLayoutAlign="center center"
  *ngIf="!currentOrdersList.length && currentOrdersList.length === 0"
>
  <h2>Il n'y a actuellement aucune commande.</h2>
</div>
<mat-card
  *ngFor="let order of currentOrdersList"
  fxFlex="87"
  (click)="goToDetailsOrder(order)"
>
  <mat-card-title fxLayout="row wrap" fxLayoutAlign="space-between center">
    <div>
      {{ order.name }}
    </div>
    <div>
      Livraison le {{ order.deliveryDate.toDate() | date: "EEEE d MMMM y" }}
      {{ order?.deliveryTime ? " à " + order.deliveryTime : "" }}
    </div>
  </mat-card-title>
  <mat-card-subtitle fxLayout="row wrap" fxLayoutAlign="space-between center">
    <div>Tel: {{ order.phone }}</div>
    <div>
      Commandé le {{ order.orderDate.toDate() | date: "EEEE d MMMM y" }} à
      {{ order.orderDate.toDate() | date: "h:mm" }}
    </div>
  </mat-card-subtitle>
  <mat-card-content fxLayout="row wrap" fxLayoutAlign="space-between baseline">
    <div *ngIf="!order.deliveryAddress; else mulitpleAddress">
      <div>Adresse de livraison et facturation :</div>
      <div class="address">
        {{ order.address.street }}
      </div>
      <div class="address">
        <span>
          {{ order.address.zipCode }}
        </span>
        <span>
          {{ order.address.city }}
        </span>
      </div>
    </div>
    <ng-template #mulitpleAddress>
      <div>
        <div>Adresse de facturation :</div>
        <div class="address">{{ order.address.street }}</div>
        <div class="address">
          <span>
            {{ order.address.zipCode }}
          </span>
          <span>
            {{ order.address.city }}
          </span>
        </div>
      </div>
      <div>
        <div class="addressTitle">Adresse de livraison :</div>
        <div class="address">{{ order.deliveryAddress.street }}</div>
        <div class="address">
          <span>
            {{ order.deliveryAddress.zipCode }}
          </span>
          <span>
            {{ order.deliveryAddress.city }}
          </span>
        </div>
      </div>
    </ng-template>
  </mat-card-content>
</mat-card>
